{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///redux-api.min.js","webpack:///webpack/bootstrap 1d441bf9a18eec83ccec","webpack:///./~/qs/lib/utils.js","webpack:///./~/url/url.js","webpack:///./src/utils/merge.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./~/immutable/dist/immutable.js","webpack:///./src/actionFn.js","webpack:///./src/async.js","webpack:///./src/reducerFn.js","webpack:///./src/transformers.js","webpack:///./~/fast-apply/index.js","webpack:///./~/punycode/punycode.js","webpack:///./~/qs/lib/index.js","webpack:///./~/qs/lib/parse.js","webpack:///./~/qs/lib/stringify.js","webpack:///./~/querystring-es3/decode.js","webpack:///./~/querystring-es3/encode.js","webpack:///./~/querystring-es3/index.js","webpack:///./~/url/util.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/PubSub.js","webpack:///./src/createHolder.js","webpack:///./src/fetchResolver.js","webpack:///./src/urlTransform.js","webpack:///./src/utils/get.js","webpack:///./src/utils/omit.js","webpack:///./src/index.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_typeof","Symbol","iterator","obj","constructor","internals","hexTable","Array","h","toString","toUpperCase","arrayToObject","source","options","plainObjects","create","il","length","merge","target","isArray","push","concat","keys","k","kl","key","decode","str","decodeURIComponent","replace","e","encode","out","charCodeAt","compact","refs","lookup","indexOf","compacted","isRegExp","isBuffer","Url","protocol","slashes","auth","host","port","hostname","hash","search","query","pathname","path","href","urlParse","url","parseQueryString","slashesDenoteHost","util","isObject","u","parse","urlFormat","isString","format","urlResolve","relative","resolve","urlResolveObject","resolveObject","punycode","protocolPattern","portPattern","simplePathPattern","delims","unwise","autoEscape","nonHostChars","hostEndingChars","hostnameMaxLen","hostnamePartPattern","hostnamePartStart","unsafeProtocol","javascript","javascript:","hostlessProtocol","slashedProtocol","http","https","ftp","gopher","file","http:","https:","ftp:","gopher:","file:","querystring","TypeError","queryIndex","splitter","uSplit","split","slashRegex","join","rest","trim","simplePath","exec","substr","proto","lowerProto","toLowerCase","match","hostEnd","hec","atSign","lastIndexOf","slice","parseHost","ipv6Hostname","hostparts","part","newpart","j","validParts","notHost","bit","unshift","toASCII","ae","esc","encodeURIComponent","escape","qm","stringify","charAt","rel","result","tkeys","tk","tkey","rkeys","rk","rkey","v","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","pop","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","up","splice","isAbsolute","mergePair","a","b","aType","bType","ARRAY","OBJECT","reduce","memo","default","_len","arguments","args","_key","__webpack_amd_options__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","global","undefined","createClass","ctor","superClass","Iterable","isIterable","Seq","KeyedIterable","isKeyed","KeyedSeq","IndexedIterable","isIndexed","IndexedSeq","SetIterable","isAssociative","SetSeq","maybeIterable","IS_ITERABLE_SENTINEL","maybeKeyed","IS_KEYED_SENTINEL","maybeIndexed","IS_INDEXED_SENTINEL","maybeAssociative","isOrdered","maybeOrdered","IS_ORDERED_SENTINEL","MakeRef","ref","SetRef","OwnerID","arrCopy","arr","offset","len","Math","max","newArr","ii","ensureSize","iter","size","__iterate","returnTrue","wrapIndex","index","uint32Index","NaN","wholeSlice","begin","end","resolveBegin","resolveIndex","resolveEnd","defaultIndex","min","Iterator","next","iteratorValue","type","iteratorResult","done","iteratorDone","hasIterator","getIteratorFn","isIterator","maybeIterator","getIterator","iterable","iteratorFn","REAL_ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","isArrayLike","emptySequence","toSeq","seqFromValue","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","entrySeq","toIndexedSeq","indexedSeqFromValue","toSetSeq","ArraySeq","array","_array","ObjectSeq","_object","_keys","IterableSeq","_iterable","IteratorSeq","_iterator","_iteratorCache","isSeq","maybeSeq","IS_SEQ_SENTINEL","EMPTY_SEQ","seq","maybeIndexedSeqFromValue","seqIterate","fn","reverse","useKeys","cache","_cache","maxIndex","entry","__iterateUncached","seqIterator","__iteratorUncached","fromJS","json","converter","fromJSWith","","fromJSDefault","parentJSON","map","isPlainObj","toList","toMap","is","valueA","valueB","valueOf","equals","deepEqual","__hash","notAssociative","entries","every","flipped","cacheResult","_","allEqual","bSize","has","NOT_SET","Repeat","times","_value","Infinity","EMPTY_REPEAT","invariant","condition","error","Error","Range","start","step","abs","_start","_end","_step","ceil","EMPTY_RANGE","Collection","KeyedCollection","IndexedCollection","SetCollection","smi","i32","STRING_HASH_CACHE_MIN_STRLEN","cachedHashString","hashString","hashCode","hashJSObj","string","stringHashCache","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","propertyIsEnumerable","getIENodeHash","objHashUID","set","isExtensible","writable","apply","nodeType","node","uniqueID","documentElement","assertNotInfinite","Map","emptyMap","isMap","withMutations","forEach","maybeMap","IS_MAP_SENTINEL","ArrayMapNode","ownerID","BitmapIndexedNode","bitmap","nodes","HashArrayMapNode","count","HashCollisionNode","keyHash","ValueNode","MapIterator","_type","_reverse","_stack","_root","mapIteratorFrame","mapIteratorValue","prev","__prev","makeMap","MapPrototype","__ownerID","__altered","EMPTY_MAP","updateMap","newRoot","newSize","didChangeSize","CHANGE_LENGTH","didAlter","DID_ALTER","updateNode","update","isLeafNode","mergeIntoNode","newNode","idx1","MASK","idx2","SHIFT","createNodes","packNodes","excluding","packedII","packedNodes","expandNodes","including","expandedNodes","SIZE","mergeIntoMapWith","merger","iterables","iters","mergeIntoCollectionWith","deepMerger","existing","mergeDeep","deepMergerWith","mergeDeepWith","nextValue","collection","filter","x","mergeIntoMap","updateInDeepMap","keyPathIter","notSetValue","updater","isNotSet","existingValue","newValue","nextExisting","nextUpdated","remove","popCount","setIn","idx","val","canEdit","newArray","spliceIn","newLen","after","spliceOut","List","empty","emptyList","isList","makeList","VNode","toArray","list","setSize","maybeList","IS_LIST_SENTINEL","iterateList","iterateNodeOrLeaf","level","iterateLeaf","iterateNode","tailPos","tail","from","left","to","right","DONE","values","_origin","_capacity","getTailOffset","_tail","_level","origin","capacity","ListPrototype","EMPTY_LIST","updateList","setListBounds","newTail","updateVNode","nodeHas","lowerNode","newLowerNode","editableVNode","listNodeFor","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","clear","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","removeAfter","removeBefore","beginIndex","mergeIntoListWith","maxSize","OrderedMap","emptyOrderedMap","isOrderedMap","maybeOrderedMap","makeOrderedMap","omap","_map","_list","EMPTY_ORDERED_MAP","updateOrderedMap","newMap","newList","flip","ToKeyedSequence","indexed","_iter","_useKeys","ToIndexedSequence","ToSetSequence","FromEntriesSequence","flipFactory","flipSequence","makeSequence","reversedSequence","includes","cacheResultThrough","this$0","ITERATE_ENTRIES","__iterator","ITERATE_VALUES","ITERATE_KEYS","mapFactory","mapper","context","mappedSequence","reverseFactory","filterFactory","predicate","filterSequence","iterations","countByFactory","grouper","groups","asMutable","asImmutable","groupByFactory","isKeyedIter","coerce","iterableClass","reify","sliceFactory","originalSize","resolvedBegin","resolvedEnd","sliceSize","resolvedSize","sliceSeq","skipped","isSkipping","takeWhileFactory","takeSequence","iterating","skipWhileFactory","skipSequence","skipping","concatFactory","isKeyedIterable","singleton","concatSeq","flatten","sum","flattenFactory","depth","flatSequence","flatDeep","currentDepth","stopped","stack","flatMapFactory","interposeFactory","separator","interposedSequence","sortFactory","comparator","defaultComparator","sort","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipSequence","iterators","isDone","steps","some","validateEntry","resolveSize","forceIterator","keyPath","Record","defaultValues","hasInitialized","RecordType","setProps","RecordTypePrototype","_name","_defaultValues","RecordPrototype","makeRecord","likeRecord","record","getPrototypeOf","recordName","names","setProp","bind","Set","emptySet","isSet","add","maybeSet","IS_SET_SENTINEL","updateSet","__empty","__make","makeSet","SetPrototype","EMPTY_SET","OrderedSet","emptyOrderedSet","isOrderedSet","maybeOrderedSet","makeOrderedSet","OrderedSetPrototype","EMPTY_ORDERED_SET","Stack","emptyStack","isStack","unshiftAll","maybeStack","IS_STACK_SENTINEL","makeStack","head","StackPrototype","_head","EMPTY_STACK","mixin","methods","keyCopier","getOwnPropertySymbols","keyMapper","entryMapper","not","neg","quoteString","JSON","String","defaultZipper","defaultNegComparator","hashIterable","ordered","keyed","hashMerge","murmurHashOfSize","imul","SLICE$0","Keyed","Indexed","DELETE","ITERATOR_SYMBOL","KEYS","VALUES","ENTRIES","inspect","toSource","of","__toString","searchValue","other","possibleIndex","floor","offsetValue","WeakMap","keyValues","updateIn","deleteIn","updatedValue","mergeWith","mergeIn","mergeDeepIn","sortBy","mutable","wasAltered","__ensureOwner","iterate","removeIn","removed","exists","MAX_ARRAY_MAP_SIZE","isEditable","newEntries","keyHashFrag","MAX_BITMAP_INDEXED_SIZE","newBitmap","newNodes","newCount","MIN_HASH_ARRAY_MAP_SIZE","keyMatch","subNode","insert","oldSize","originIndex","newChild","removingFirst","oldChild","editable","sizeIndex","valueSeq","indexedIterable","defaultVal","_empty","fromKeys","keySeq","union","intersect","originalSet","subtract","peek","pushAll","toJS","__toJS","toJSON","toObject","toOrderedMap","toOrderedSet","toSet","toStack","__toStringMapper","returnValue","find","findEntry","sideEffect","joined","isFirst","reducer","initialReduction","reduction","useFirst","reduceRight","reversed","butLast","isEmpty","countBy","entriesSequence","filterNot","found","findKey","findLast","findLastEntry","findLastKey","first","flatMap","searchKey","getIn","searchKeyPath","nested","groupBy","hasIn","isSubset","isSuperset","keyOf","lastKeyOf","maxBy","minBy","skip","amount","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeUntil","IterablePrototype","chain","contains","mapEntries","mapKeys","KeyedIterablePrototype","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interleave","zipped","interleaved","zip","zipWith","Immutable","_interopRequireDefault","none","extractArgs","pathvars","params","callback","Function","helperCrudFunction","_extractArgs","_extractArgs2","_slicedToArray","cb","_extends","method","defaultMiddlewareArgsParser","dispatch","getState","actionFn","_len2","_key2","_extractArgs3","_extractArgs4","syncing","pubsub","middlewareParser","meta","holder","_middlewareParser","reducerName","prefix","state","isLoading","_get2","requestOptions","prevData","actionFetch","request","fetchResolverOpts","actions","prefetch","Promise","fail","_fetchResolver2","err","reject","requestHolder","promise","then","data","transformer","actionSuccess","origData","broadcast","postfetch","actionFail","catch","ACTIONS","actionReset","_PubSub2","_createHolder2","responseHandler","resultUrlT","_urlTransform2","urlOptions","urlT","rootUrl","rootUrlObject","_url2","urlObject","urlPath","globalOptions","baseOptions","opts","_merge2","response","fetch","validation","ret","res","reset","mutation","defer","sync","_len3","_key3","_extractArgs5","_extractArgs6","isServer","server","store","modifyParams","helpers","crud","CRUD","fnHelperCallback","func","helpername","_ref","_len4","_key4","callbackFn","helpersResult","_fastApply2","newArgs","_helpersResult","assign","sliceIterator","_arr","_n","_d","_e","_s","_i","_fastApply","_url","_urlTransform","_merge","_get","_fetchResolver","_PubSub","_createHolder","async","restFunctions","currentFunction","reducerFn","initialState","action","loading","fastApply","RangeError","errors","mapDomain","parts","regexSeparators","labels","encoded","ucs2decode","extra","output","counter","ucs2encode","stringFromCharCode","basicToDigit","codePoint","base","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","damp","baseMinusTMin","tMax","skew","input","basic","oldi","w","t","baseMinusT","inputLength","initialN","bias","initialBias","delimiter","maxInt","tMin","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","regexPunycode","test","regexNonASCII","freeExports","freeModule","freeGlobal","window","self","overflow","not-basic","invalid-input","fromCharCode","version","ucs2","Stringify","Parse","Utils","arrayLimit","parameterLimit","strictNullHandling","allowPrototypes","allowDots","parseValues","pos","parseObject","cleanRoot","parseInt","indexString","isNaN","parseArrays","parseKeys","parent","child","segment","tempObj","newObj","arrayPrefixGenerators","brackets","indices","repeat","skipNulls","generateArrayPrefix","Date","toISOString","objKeys","arrayFormat","prop","qs","sep","eq","regexp","maxKeys","kstr","vstr","xs","f","stringifyPrimitive","isFinite","objectKeys","ks","arg","g","eval","webpackPolyfill","deprecate","paths","children","_classCallCheck","instance","Constructor","_createClass","defineProperties","props","descriptor","protoProps","staticProps","PubSub","container","hasData","fetchResolver","urlTransform","usedKeys","urlWithParams","rx","RegExp","_parse","cleanURL","rxClean","usedKeysArray","_options","qsParseOptions","mergeParams","_qs2","_omit2","qsStringifyOptions","urlStringParams","_qs","_omit","reduxApi","config","baseConfig","fnConfigCallback","defaultEndpointConfig","console","warn","PREFIX","fetchHolder","virtual","_actionFn2","reducers","_immutable","_reducerFn2","events","cfg","use","init","_reducerFn","_actionFn","_transformers","_transformers2","_async","_async2","transformers"],"mappings":"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","file":"redux-api.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"redux-api\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"redux-api\"] = factory();\n\telse\n\t\troot[\"redux-api\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"redux-api\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"redux-api\"] = factory();\n\telse\n\t\troot[\"redux-api\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 26);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n// Load modules\n\n\n// Declare internals\n\nvar internals = {};\ninternals.hexTable = new Array(256);\nfor (var h = 0; h < 256; ++h) {\n    internals.hexTable[h] = '%' + ((h < 16 ? '0' : '') + h.toString(16)).toUpperCase();\n}\n\nexports.arrayToObject = function (source, options) {\n\n    var obj = options.plainObjects ? Object.create(null) : {};\n    for (var i = 0, il = source.length; i < il; ++i) {\n        if (typeof source[i] !== 'undefined') {\n\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function (target, source, options) {\n\n    if (!source) {\n        return target;\n    }\n\n    if ((typeof source === 'undefined' ? 'undefined' : _typeof(source)) !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if ((typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object') {\n            target[source] = true;\n        } else {\n            target = [target, source];\n        }\n\n        return target;\n    }\n\n    if ((typeof target === 'undefined' ? 'undefined' : _typeof(target)) !== 'object') {\n        target = [target].concat(source);\n        return target;\n    }\n\n    if (Array.isArray(target) && !Array.isArray(source)) {\n\n        target = exports.arrayToObject(target, options);\n    }\n\n    var keys = Object.keys(source);\n    for (var k = 0, kl = keys.length; k < kl; ++k) {\n        var key = keys[k];\n        var value = source[key];\n\n        if (!Object.prototype.hasOwnProperty.call(target, key)) {\n            target[key] = value;\n        } else {\n            target[key] = exports.merge(target[key], value, options);\n        }\n    }\n\n    return target;\n};\n\nexports.decode = function (str) {\n\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function (str) {\n\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    if (typeof str !== 'string') {\n        str = '' + str;\n    }\n\n    var out = '';\n    for (var i = 0, il = str.length; i < il; ++i) {\n        var c = str.charCodeAt(i);\n\n        if (c === 0x2D || // -\n        c === 0x2E || // .\n        c === 0x5F || // _\n        c === 0x7E || // ~\n        c >= 0x30 && c <= 0x39 || // 0-9\n        c >= 0x41 && c <= 0x5A || // a-z\n        c >= 0x61 && c <= 0x7A) {\n            // A-Z\n\n            out += str[i];\n            continue;\n        }\n\n        if (c < 0x80) {\n            out += internals.hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out += internals.hexTable[0xC0 | c >> 6] + internals.hexTable[0x80 | c & 0x3F];\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out += internals.hexTable[0xE0 | c >> 12] + internals.hexTable[0x80 | c >> 6 & 0x3F] + internals.hexTable[0x80 | c & 0x3F];\n            continue;\n        }\n\n        ++i;\n        c = 0x10000 + ((c & 0x3FF) << 10 | str.charCodeAt(i) & 0x3FF);\n        out += internals.hexTable[0xF0 | c >> 18] + internals.hexTable[0x80 | c >> 12 & 0x3F] + internals.hexTable[0x80 | c >> 6 & 0x3F] + internals.hexTable[0x80 | c & 0x3F];\n    }\n\n    return out;\n};\n\nexports.compact = function (obj, refs) {\n\n    if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object' || obj === null) {\n\n        return obj;\n    }\n\n    refs = refs || [];\n    var lookup = refs.indexOf(obj);\n    if (lookup !== -1) {\n        return refs[lookup];\n    }\n\n    refs.push(obj);\n\n    if (Array.isArray(obj)) {\n        var compacted = [];\n\n        for (var i = 0, il = obj.length; i < il; ++i) {\n            if (typeof obj[i] !== 'undefined') {\n                compacted.push(obj[i]);\n            }\n        }\n\n        return compacted;\n    }\n\n    var keys = Object.keys(obj);\n    for (i = 0, il = keys.length; i < il; ++i) {\n        var key = keys[i];\n        obj[key] = exports.compact(obj[key], refs);\n    }\n\n    return obj;\n};\n\nexports.isRegExp = function (obj) {\n\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function (obj) {\n\n    if (obj === null || typeof obj === 'undefined') {\n\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar punycode = __webpack_require__(10);\nvar util = __webpack_require__(17);\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n\n// Special case for a simple path URL\nsimplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n\n// RFC 2396: characters reserved for delimiting URLs.\n// We actually just auto-escape these.\ndelims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n\n// RFC 2396: characters not allowed for various reasons.\nunwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n\n// Allowed by RFCs, but cause of XSS attacks.  Always escape these.\nautoEscape = ['\\''].concat(unwise),\n\n// Characters that are never ever allowed in a hostname.\n// Note that any invalid chars are also handled, but these\n// are the ones that are *expected* to be seen, so we fast-path\n// them.\nnonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n\n// protocols that can allow \"unsafe\" and \"unwise\" chars.\nunsafeProtocol = {\n  'javascript': true,\n  'javascript:': true\n},\n\n// protocols that never have a hostname.\nhostlessProtocol = {\n  'javascript': true,\n  'javascript:': true\n},\n\n// protocols that always contain a // bit.\nslashedProtocol = {\n  'http': true,\n  'https': true,\n  'ftp': true,\n  'gopher': true,\n  'file': true,\n  'http:': true,\n  'https:': true,\n  'ftp:': true,\n  'gopher:': true,\n  'file:': true\n},\n    querystring = __webpack_require__(16);\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url();\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function (url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + (typeof url === 'undefined' ? 'undefined' : _typeof(url)));\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter = queryIndex !== -1 && queryIndex < url.indexOf('#') ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] && (slashes || proto && !slashedProtocol[proto])) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' && this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1) continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] && this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function () {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ? this.hostname : '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query && util.isObject(this.query) && Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || query && '?' + query || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes || (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function (match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function (relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function (relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol') result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] && result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift())) {}\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = result.pathname && result.pathname.charAt(0) === '/',\n      isRelAbs = relative.host || relative.pathname && relative.pathname.charAt(0) === '/',\n      mustEndAbs = isRelAbs || isSourceAbs || result.host && relative.pathname,\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = relative.host || relative.host === '' ? relative.host : result.host;\n    result.hostname = relative.hostname || relative.hostname === '' ? relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (result.host || relative.host || srcPath.length > 1) && (last === '.' || last === '..') || last === '';\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' && (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && srcPath.join('/').substr(-1) !== '/') {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' || srcPath[0] && srcPath[0].charAt(0) === '/';\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' : srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || result.host && srcPath.length;\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function () {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mergePair = mergePair;\n\nexports.default = function () {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args.length ? args.reduce(mergePair) : null;\n};\n\n/* eslint no-void: 0 */\nvar toString = Object.prototype.toString;\nvar OBJECT = \"[object Object]\";\nvar ARRAY = \"[object Array]\";\n\nfunction mergePair(a, b) {\n  if (a === void 0) {\n    return b;\n  }\n  if (b === void 0) {\n    return a;\n  }\n\n  var aType = toString.call(a);\n  var bType = toString.call(b);\n  if (aType === ARRAY) {\n    return a.concat(b);\n  }\n  if (bType === ARRAY) {\n    return [a].concat(b);\n  }\n  if (aType !== OBJECT || bType !== OBJECT) {\n    return b;\n  }\n  return Object.keys(b).reduce(function (memo, key) {\n    memo[key] = mergePair(a[key], b[key]);\n    return memo;\n  }, a);\n}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, {}))\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n *  Copyright (c) 2014-2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\n(function (global, factory) {\n  ( false ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : global.Immutable = factory();\n})(undefined, function () {\n  'use strict';\n  var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n    return isIterable(value) ? value : Seq(value);\n  }\n\n  createClass(KeyedIterable, Iterable);\n  function KeyedIterable(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  createClass(IndexedIterable, Iterable);\n  function IndexedIterable(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  createClass(SetIterable, Iterable);\n  function SetIterable(value) {\n    return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^321.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || size !== undefined && begin <= -size) && (end === undefined || size !== undefined && end >= size);\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ? defaultIndex : index < 0 ? Math.max(0, size + index) : size === undefined ? index : Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n  function Iterator(next) {\n    this.next = next;\n  }\n\n  Iterator.prototype.toString = function () {\n    return '[Iterator]';\n  };\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect = Iterator.prototype.toSource = function () {\n    return this.toString();\n  };\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? iteratorResult.value = value : iteratorResult = {\n      value: value, done: false\n    };\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL] || iterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n  function Seq(value) {\n    return value === null || value === undefined ? emptySequence() : isIterable(value) ? value.toSeq() : seqFromValue(value);\n  }\n\n  Seq.of = function () /*...values*/{\n    return Seq(arguments);\n  };\n\n  Seq.prototype.toSeq = function () {\n    return this;\n  };\n\n  Seq.prototype.toString = function () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  };\n\n  // abstract __iterateUncached(fn, reverse)\n\n  Seq.prototype.__iterate = function (fn, reverse) {\n    return seqIterate(this, fn, reverse, true);\n  };\n\n  // abstract __iteratorUncached(type, reverse)\n\n  Seq.prototype.__iterator = function (type, reverse) {\n    return seqIterator(this, type, reverse, true);\n  };\n\n  createClass(KeyedSeq, Seq);\n  function KeyedSeq(value) {\n    return value === null || value === undefined ? emptySequence().toKeyedSeq() : isIterable(value) ? isKeyed(value) ? value.toSeq() : value.fromEntrySeq() : keyedSeqFromValue(value);\n  }\n\n  KeyedSeq.prototype.toKeyedSeq = function () {\n    return this;\n  };\n\n  createClass(IndexedSeq, Seq);\n  function IndexedSeq(value) {\n    return value === null || value === undefined ? emptySequence() : !isIterable(value) ? indexedSeqFromValue(value) : isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n  }\n\n  IndexedSeq.of = function () /*...values*/{\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function () {\n    return this.__toString('Seq [', ']');\n  };\n\n  IndexedSeq.prototype.__iterate = function (fn, reverse) {\n    return seqIterate(this, fn, reverse, false);\n  };\n\n  IndexedSeq.prototype.__iterator = function (type, reverse) {\n    return seqIterator(this, type, reverse, false);\n  };\n\n  createClass(SetSeq, Seq);\n  function SetSeq(value) {\n    return (value === null || value === undefined ? emptySequence() : !isIterable(value) ? indexedSeqFromValue(value) : isKeyed(value) ? value.entrySeq() : value).toSetSeq();\n  }\n\n  SetSeq.of = function () /*...values*/{\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function () {\n    return this;\n  };\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n  createClass(ArraySeq, IndexedSeq);\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  ArraySeq.prototype.get = function (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function (fn, reverse) {\n    var array = this._array;\n    var maxIndex = array.length - 1;\n    for (var ii = 0; ii <= maxIndex; ii++) {\n      if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n        return ii + 1;\n      }\n    }\n    return ii;\n  };\n\n  ArraySeq.prototype.__iterator = function (type, reverse) {\n    var array = this._array;\n    var maxIndex = array.length - 1;\n    var ii = 0;\n    return new Iterator(function () {\n      return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++]);\n    });\n  };\n\n  createClass(ObjectSeq, KeyedSeq);\n  function ObjectSeq(object) {\n    var keys = Object.keys(object);\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  ObjectSeq.prototype.get = function (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function (key) {\n    return this._object.hasOwnProperty(key);\n  };\n\n  ObjectSeq.prototype.__iterate = function (fn, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var maxIndex = keys.length - 1;\n    for (var ii = 0; ii <= maxIndex; ii++) {\n      var key = keys[reverse ? maxIndex - ii : ii];\n      if (fn(object[key], key, this) === false) {\n        return ii + 1;\n      }\n    }\n    return ii;\n  };\n\n  ObjectSeq.prototype.__iterator = function (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var maxIndex = keys.length - 1;\n    var ii = 0;\n    return new Iterator(function () {\n      var key = keys[reverse ? maxIndex - ii : ii];\n      return ii++ > maxIndex ? iteratorDone() : iteratorValue(type, key, object[key]);\n    });\n  };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n  createClass(IterableSeq, IndexedSeq);\n  function IterableSeq(iterable) {\n    this._iterable = iterable;\n    this.size = iterable.length || iterable.size;\n  }\n\n  IterableSeq.prototype.__iterateUncached = function (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterable = this._iterable;\n    var iterator = getIterator(iterable);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  };\n\n  IterableSeq.prototype.__iteratorUncached = function (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterable = this._iterable;\n    var iterator = getIterator(iterable);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  createClass(IteratorSeq, IndexedSeq);\n  function IteratorSeq(iterator) {\n    this._iterator = iterator;\n    this._iteratorCache = [];\n  }\n\n  IteratorSeq.prototype.__iterateUncached = function (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n    while (iterations < cache.length) {\n      if (fn(cache[iterations], iterations++, this) === false) {\n        return iterations;\n      }\n    }\n    var step;\n    while (!(step = iterator.next()).done) {\n      var val = step.value;\n      cache[iterations] = val;\n      if (fn(val, iterations++, this) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n\n  IteratorSeq.prototype.__iteratorUncached = function (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n    return new Iterator(function () {\n      if (iterations >= cache.length) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        cache[iterations] = step.value;\n      }\n      return iteratorValue(type, iterations, cache[iterations++]);\n    });\n  };\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq = Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() : isIterator(value) ? new IteratorSeq(value).fromEntrySeq() : hasIterator(value) ? new IterableSeq(value).fromEntrySeq() : (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' ? new ObjectSeq(value) : undefined;\n    if (!seq) {\n      throw new TypeError('Expected Array or iterable object of [k, v] entries, ' + 'or keyed object: ' + value);\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError('Expected Array or iterable object of values: ' + value);\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && new ObjectSeq(value);\n    if (!seq) {\n      throw new TypeError('Expected Array or iterable object of values, or keyed object: ' + value);\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return isArrayLike(value) ? new ArraySeq(value) : isIterator(value) ? new IteratorSeq(value) : hasIterator(value) ? new IterableSeq(value) : undefined;\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function () {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ? iteratorDone() : iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ? fromJSWith(converter, json, '', { '': json }) : fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function (v, k) {\n        return fromJSWith(converter, v, k, json);\n      }));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function (v, k) {\n        return fromJSWith(converter, v, k, json);\n      }));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || valueA !== valueA && valueB !== valueB) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' && typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || valueA !== valueA && valueB !== valueB) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' && typeof valueB.equals === 'function' && valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (!isIterable(b) || a.size !== undefined && b.size !== undefined && a.size !== b.size || a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash || isKeyed(a) !== isKeyed(b) || isIndexed(a) !== isIndexed(b) || isOrdered(a) !== isOrdered(b)) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function (v, k) {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function (v, k) {\n      if (notAssociative ? !a.has(v) : flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  Repeat.prototype.toString = function () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size) ? this : new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n  };\n\n  Repeat.prototype.reverse = function () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function (fn, reverse) {\n    for (var ii = 0; ii < this.size; ii++) {\n      if (fn(this._value, ii, this) === false) {\n        return ii + 1;\n      }\n    }\n    return ii;\n  };\n\n  Repeat.prototype.__iterator = function (type, reverse) {\n    var this$0 = this;\n    var ii = 0;\n    return new Iterator(function () {\n      return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone();\n    });\n  };\n\n  Repeat.prototype.equals = function (other) {\n    return other instanceof Repeat ? is(this._value, other._value) : deepEqual(other);\n  };\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n    if (end === undefined) {\n      end = Infinity;\n    }\n    step = step === undefined ? 1 : Math.abs(step);\n    if (end < start) {\n      step = -step;\n    }\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n      EMPTY_RANGE = this;\n    }\n  }\n\n  Range.prototype.toString = function () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return 'Range [ ' + this._start + '...' + this._end + (this._step !== 1 ? ' by ' + this._step : '') + ' ]';\n  };\n\n  Range.prototype.get = function (index, notSetValue) {\n    return this.has(index) ? this._start + wrapIndex(this, index) * this._step : notSetValue;\n  };\n\n  Range.prototype.includes = function (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return possibleIndex >= 0 && possibleIndex < this.size && possibleIndex === Math.floor(possibleIndex);\n  };\n\n  Range.prototype.slice = function (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n    return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n  };\n\n  Range.prototype.indexOf = function (searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function (fn, reverse) {\n    var maxIndex = this.size - 1;\n    var step = this._step;\n    var value = reverse ? this._start + maxIndex * step : this._start;\n    for (var ii = 0; ii <= maxIndex; ii++) {\n      if (fn(value, ii, this) === false) {\n        return ii + 1;\n      }\n      value += reverse ? -step : step;\n    }\n    return ii;\n  };\n\n  Range.prototype.__iterator = function (type, reverse) {\n    var maxIndex = this.size - 1;\n    var step = this._step;\n    var value = reverse ? this._start + maxIndex * step : this._start;\n    var ii = 0;\n    return new Iterator(function () {\n      var v = value;\n      value += reverse ? -step : step;\n      return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n    });\n  };\n\n  Range.prototype.equals = function (other) {\n    return other instanceof Range ? this._start === other._start && this._end === other._end && this._step === other._step : deepEqual(this, other);\n  };\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n  function Collection() {\n    throw TypeError('Abstract');\n  }\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul = typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ? Math.imul : function imul(a, b) {\n    a = a | 0; // int\n    b = b | 0; // int\n    var c = a & 0xffff;\n    var d = b & 0xffff;\n    // Shift by 0 fixes the sign on the high part.\n    return c * d + ((a >>> 16) * d + c * (b >>> 16) << 16 >>> 0) | 0; // int\n  };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return i32 >>> 1 & 0x40000000 | i32 & 0xBFFFFFFF;\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o === 'undefined' ? 'undefined' : _typeof(o);\n    if (type === 'number') {\n      if (o !== o || o === Infinity) {\n        return 0;\n      }\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined && obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function () {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = function () {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }();\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1:\n          // Element\n          return node.uniqueID;\n        case 9:\n          // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(size !== Infinity, 'Cannot perform this action with an infinite size.');\n  }\n\n  createClass(Map, KeyedCollection);\n\n  // @pragma Construction\n\n  function Map(value) {\n    return value === null || value === undefined ? emptyMap() : isMap(value) && !isOrdered(value) ? value : emptyMap().withMutations(function (map) {\n      var iter = KeyedIterable(value);\n      assertNotInfinite(iter.size);\n      iter.forEach(function (v, k) {\n        return map.set(k, v);\n      });\n    });\n  }\n\n  Map.of = function () {\n    var keyValues = SLICE$0.call(arguments, 0);\n    return emptyMap().withMutations(function (map) {\n      for (var i = 0; i < keyValues.length; i += 2) {\n        if (i + 1 >= keyValues.length) {\n          throw new Error('Missing value for key: ' + keyValues[i]);\n        }\n        map.set(keyValues[i], keyValues[i + 1]);\n      }\n    });\n  };\n\n  Map.prototype.toString = function () {\n    return this.__toString('Map {', '}');\n  };\n\n  // @pragma Access\n\n  Map.prototype.get = function (k, notSetValue) {\n    return this._root ? this._root.get(0, undefined, k, notSetValue) : notSetValue;\n  };\n\n  // @pragma Modification\n\n  Map.prototype.set = function (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.setIn = function (keyPath, v) {\n    return this.updateIn(keyPath, NOT_SET, function () {\n      return v;\n    });\n  };\n\n  Map.prototype.remove = function (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteIn = function (keyPath) {\n    return this.updateIn(keyPath, function () {\n      return NOT_SET;\n    });\n  };\n\n  Map.prototype.update = function (k, notSetValue, updater) {\n    return arguments.length === 1 ? k(this) : this.updateIn([k], notSetValue, updater);\n  };\n\n  Map.prototype.updateIn = function (keyPath, notSetValue, updater) {\n    if (!updater) {\n      updater = notSetValue;\n      notSetValue = undefined;\n    }\n    var updatedValue = updateInDeepMap(this, forceIterator(keyPath), notSetValue, updater);\n    return updatedValue === NOT_SET ? undefined : updatedValue;\n  };\n\n  Map.prototype.clear = function () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  };\n\n  // @pragma Composition\n\n  Map.prototype.merge = function () /*...iters*/{\n    return mergeIntoMapWith(this, undefined, arguments);\n  };\n\n  Map.prototype.mergeWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return mergeIntoMapWith(this, merger, iters);\n  };\n\n  Map.prototype.mergeIn = function (keyPath) {\n    var iters = SLICE$0.call(arguments, 1);\n    return this.updateIn(keyPath, emptyMap(), function (m) {\n      return typeof m.merge === 'function' ? m.merge.apply(m, iters) : iters[iters.length - 1];\n    });\n  };\n\n  Map.prototype.mergeDeep = function () /*...iters*/{\n    return mergeIntoMapWith(this, deepMerger, arguments);\n  };\n\n  Map.prototype.mergeDeepWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n  };\n\n  Map.prototype.mergeDeepIn = function (keyPath) {\n    var iters = SLICE$0.call(arguments, 1);\n    return this.updateIn(keyPath, emptyMap(), function (m) {\n      return typeof m.mergeDeep === 'function' ? m.mergeDeep.apply(m, iters) : iters[iters.length - 1];\n    });\n  };\n\n  Map.prototype.sort = function (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  };\n\n  // @pragma Mutability\n\n  Map.prototype.withMutations = function (fn) {\n    var mutable = this.asMutable();\n    fn(mutable);\n    return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n  };\n\n  Map.prototype.asMutable = function () {\n    return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n  };\n\n  Map.prototype.asImmutable = function () {\n    return this.__ensureOwner();\n  };\n\n  Map.prototype.wasAltered = function () {\n    return this.__altered;\n  };\n\n  Map.prototype.__iterator = function (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    var iterations = 0;\n    this._root && this._root.iterate(function (entry) {\n      iterations++;\n      return fn(entry[1], entry[0], this$0);\n    }, reverse);\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n  // #pragma Trie Nodes\n\n\n  function ArrayMapNode(ownerID, entries) {\n    this.ownerID = ownerID;\n    this.entries = entries;\n  }\n\n  ArrayMapNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    var entries = this.entries;\n    for (var ii = 0, len = entries.length; ii < len; ii++) {\n      if (is(key, entries[ii][0])) {\n        return entries[ii][1];\n      }\n    }\n    return notSetValue;\n  };\n\n  ArrayMapNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    var removed = value === NOT_SET;\n\n    var entries = this.entries;\n    var idx = 0;\n    for (var len = entries.length; idx < len; idx++) {\n      if (is(key, entries[idx][0])) {\n        break;\n      }\n    }\n    var exists = idx < len;\n\n    if (exists ? entries[idx][1] === value : removed) {\n      return this;\n    }\n\n    SetRef(didAlter);\n    (removed || !exists) && SetRef(didChangeSize);\n\n    if (removed && entries.length === 1) {\n      return; // undefined\n    }\n\n    if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n      return createNodes(ownerID, entries, key, value);\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newEntries = isEditable ? entries : arrCopy(entries);\n\n    if (exists) {\n      if (removed) {\n        idx === len - 1 ? newEntries.pop() : newEntries[idx] = newEntries.pop();\n      } else {\n        newEntries[idx] = [key, value];\n      }\n    } else {\n      newEntries.push([key, value]);\n    }\n\n    if (isEditable) {\n      this.entries = newEntries;\n      return this;\n    }\n\n    return new ArrayMapNode(ownerID, newEntries);\n  };\n\n  function BitmapIndexedNode(ownerID, bitmap, nodes) {\n    this.ownerID = ownerID;\n    this.bitmap = bitmap;\n    this.nodes = nodes;\n  }\n\n  BitmapIndexedNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n    var bitmap = this.bitmap;\n    return (bitmap & bit) === 0 ? notSetValue : this.nodes[popCount(bitmap & bit - 1)].get(shift + SHIFT, keyHash, key, notSetValue);\n  };\n\n  BitmapIndexedNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var bit = 1 << keyHashFrag;\n    var bitmap = this.bitmap;\n    var exists = (bitmap & bit) !== 0;\n\n    if (!exists && value === NOT_SET) {\n      return this;\n    }\n\n    var idx = popCount(bitmap & bit - 1);\n    var nodes = this.nodes;\n    var node = exists ? nodes[idx] : undefined;\n    var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n    if (newNode === node) {\n      return this;\n    }\n\n    if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n      return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n    }\n\n    if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n      return nodes[idx ^ 1];\n    }\n\n    if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n      return newNode;\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n    var newNodes = exists ? newNode ? setIn(nodes, idx, newNode, isEditable) : spliceOut(nodes, idx, isEditable) : spliceIn(nodes, idx, newNode, isEditable);\n\n    if (isEditable) {\n      this.bitmap = newBitmap;\n      this.nodes = newNodes;\n      return this;\n    }\n\n    return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n  };\n\n  function HashArrayMapNode(ownerID, count, nodes) {\n    this.ownerID = ownerID;\n    this.count = count;\n    this.nodes = nodes;\n  }\n\n  HashArrayMapNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var node = this.nodes[idx];\n    return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n  };\n\n  HashArrayMapNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var removed = value === NOT_SET;\n    var nodes = this.nodes;\n    var node = nodes[idx];\n\n    if (removed && !node) {\n      return this;\n    }\n\n    var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n    if (newNode === node) {\n      return this;\n    }\n\n    var newCount = this.count;\n    if (!node) {\n      newCount++;\n    } else if (!newNode) {\n      newCount--;\n      if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n        return packNodes(ownerID, nodes, newCount, idx);\n      }\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n    if (isEditable) {\n      this.count = newCount;\n      this.nodes = newNodes;\n      return this;\n    }\n\n    return new HashArrayMapNode(ownerID, newCount, newNodes);\n  };\n\n  function HashCollisionNode(ownerID, keyHash, entries) {\n    this.ownerID = ownerID;\n    this.keyHash = keyHash;\n    this.entries = entries;\n  }\n\n  HashCollisionNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    var entries = this.entries;\n    for (var ii = 0, len = entries.length; ii < len; ii++) {\n      if (is(key, entries[ii][0])) {\n        return entries[ii][1];\n      }\n    }\n    return notSetValue;\n  };\n\n  HashCollisionNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n\n    var removed = value === NOT_SET;\n\n    if (keyHash !== this.keyHash) {\n      if (removed) {\n        return this;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n    }\n\n    var entries = this.entries;\n    var idx = 0;\n    for (var len = entries.length; idx < len; idx++) {\n      if (is(key, entries[idx][0])) {\n        break;\n      }\n    }\n    var exists = idx < len;\n\n    if (exists ? entries[idx][1] === value : removed) {\n      return this;\n    }\n\n    SetRef(didAlter);\n    (removed || !exists) && SetRef(didChangeSize);\n\n    if (removed && len === 2) {\n      return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newEntries = isEditable ? entries : arrCopy(entries);\n\n    if (exists) {\n      if (removed) {\n        idx === len - 1 ? newEntries.pop() : newEntries[idx] = newEntries.pop();\n      } else {\n        newEntries[idx] = [key, value];\n      }\n    } else {\n      newEntries.push([key, value]);\n    }\n\n    if (isEditable) {\n      this.entries = newEntries;\n      return this;\n    }\n\n    return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n  };\n\n  function ValueNode(ownerID, keyHash, entry) {\n    this.ownerID = ownerID;\n    this.keyHash = keyHash;\n    this.entry = entry;\n  }\n\n  ValueNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n  };\n\n  ValueNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    var removed = value === NOT_SET;\n    var keyMatch = is(key, this.entry[0]);\n    if (keyMatch ? value === this.entry[1] : removed) {\n      return this;\n    }\n\n    SetRef(didAlter);\n\n    if (removed) {\n      SetRef(didChangeSize);\n      return; // undefined\n    }\n\n    if (keyMatch) {\n      if (ownerID && ownerID === this.ownerID) {\n        this.entry[1] = value;\n        return this;\n      }\n      return new ValueNode(ownerID, this.keyHash, [key, value]);\n    }\n\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n  };\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  };\n\n  BitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  };\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  };\n\n  createClass(MapIterator, Iterator);\n\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  MapIterator.prototype.next = function () {\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex;\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = this._stack = mapIteratorFrame(subNode, stack);\n          }\n          continue;\n        }\n      }\n      stack = this._stack = this._stack.__prev;\n    }\n    return iteratorDone();\n  };\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] : (newNode = new ValueNode(ownerID, keyHash, entry), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, 1 << idx1 | 1 << idx2, nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function (v) {\n          return fromJS(v);\n        });\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ? existing.mergeDeep(value) : is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function (existing, value, key) {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function (x) {\n      return x.size !== 0;\n    });\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function (collection) {\n      var mergeIntoMap = merger ? function (value, key) {\n        collection.update(key, NOT_SET, function (existing) {\n          return existing === NOT_SET ? value : merger(existing, value, key);\n        });\n      } : function (value, key) {\n        collection.set(key, value);\n      };\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(isNotSet || existing && existing.set, 'invalid keyPath');\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(nextExisting, keyPathIter, notSetValue, updater);\n    return nextUpdated === nextExisting ? existing : nextUpdated === NOT_SET ? existing.remove(key) : (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - (x >> 1 & 0x55555555);\n    x = (x & 0x33333333) + (x >> 2 & 0x33333333);\n    x = x + (x >> 4) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n  // @pragma Construction\n\n  function List(value) {\n    var empty = emptyList();\n    if (value === null || value === undefined) {\n      return empty;\n    }\n    if (isList(value)) {\n      return value;\n    }\n    var iter = IndexedIterable(value);\n    var size = iter.size;\n    if (size === 0) {\n      return empty;\n    }\n    assertNotInfinite(size);\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) {\n        return list.set(i, v);\n      });\n    });\n  }\n\n  List.of = function () /*...values*/{\n    return this(arguments);\n  };\n\n  List.prototype.toString = function () {\n    return this.__toString('List [', ']');\n  };\n\n  // @pragma Access\n\n  List.prototype.get = function (index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n    return notSetValue;\n  };\n\n  // @pragma Modification\n\n  List.prototype.set = function (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function (index) {\n    return !this.has(index) ? this : index === 0 ? this.shift() : index === this.size - 1 ? this.pop() : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = this._origin = this._capacity = 0;\n      this._level = SHIFT;\n      this._root = this._tail = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  };\n\n  List.prototype.push = function () /*...values*/{\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function () /*...values*/{\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function () {\n    return setListBounds(this, 1);\n  };\n\n  // @pragma Composition\n\n  List.prototype.merge = function () /*...iters*/{\n    return mergeIntoListWith(this, undefined, arguments);\n  };\n\n  List.prototype.mergeWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return mergeIntoListWith(this, merger, iters);\n  };\n\n  List.prototype.mergeDeep = function () /*...iters*/{\n    return mergeIntoListWith(this, deepMerger, arguments);\n  };\n\n  List.prototype.mergeDeepWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return mergeIntoListWith(this, deepMergerWith(merger), iters);\n  };\n\n  List.prototype.setSize = function (size) {\n    return setListBounds(this, 0, size);\n  };\n\n  // @pragma Iteration\n\n  List.prototype.slice = function (begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(this, resolveBegin(begin, size), resolveEnd(end, size));\n  };\n\n  List.prototype.__iterator = function (type, reverse) {\n    var index = 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE ? iteratorDone() : iteratorValue(type, index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function (fn, reverse) {\n    var index = 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, index++, this) === false) {\n        break;\n      }\n    }\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      return this;\n    }\n    return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n  };\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn = ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n  function VNode(array, ownerID) {\n    this.array = array;\n    this.ownerID = ownerID;\n  }\n\n  // TODO: seems like these methods are very similar\n\n  VNode.prototype.removeBefore = function (ownerID, level, index) {\n    if (index === level ? 1 << level : 0 || this.array.length === 0) {\n      return this;\n    }\n    var originIndex = index >>> level & MASK;\n    if (originIndex >= this.array.length) {\n      return new VNode([], ownerID);\n    }\n    var removingFirst = originIndex === 0;\n    var newChild;\n    if (level > 0) {\n      var oldChild = this.array[originIndex];\n      newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n      if (newChild === oldChild && removingFirst) {\n        return this;\n      }\n    }\n    if (removingFirst && !newChild) {\n      return this;\n    }\n    var editable = editableVNode(this, ownerID);\n    if (!removingFirst) {\n      for (var ii = 0; ii < originIndex; ii++) {\n        editable.array[ii] = undefined;\n      }\n    }\n    if (newChild) {\n      editable.array[originIndex] = newChild;\n    }\n    return editable;\n  };\n\n  VNode.prototype.removeAfter = function (ownerID, level, index) {\n    if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n      return this;\n    }\n    var sizeIndex = index - 1 >>> level & MASK;\n    if (sizeIndex >= this.array.length) {\n      return this;\n    }\n\n    var newChild;\n    if (level > 0) {\n      var oldChild = this.array[sizeIndex];\n      newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n      if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n        return this;\n      }\n    }\n\n    var editable = editableVNode(this, ownerID);\n    editable.array.splice(sizeIndex + 1);\n    if (newChild) {\n      editable.array[sizeIndex] = newChild;\n    }\n    return editable;\n  };\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ? iterateLeaf(node, offset) : iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function () {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : left - offset >> level;\n      var to = (right - offset >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function () {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(array && array[idx], level - SHIFT, offset + (idx << level));\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function (list) {\n        index < 0 ? setListBounds(list, index).set(0, value) : setListBounds(list, 0, index + 1).set(index, value);\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = index >>> level & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << list._level + SHIFT) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[rawIndex >>> level & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << newLevel + SHIFT) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ? listNodeFor(list, newCapacity - 1) : newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = oldTailOffset >>> level & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[oldTailOffset >>> SHIFT & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n      // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = newOrigin >>> newLevel & MASK;\n        if (beginIndex !== newTailOffset >>> newLevel & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function (v) {\n          return fromJS(v);\n        });\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : size - 1 >>> SHIFT << SHIFT;\n  }\n\n  createClass(OrderedMap, Map);\n\n  // @pragma Construction\n\n  function OrderedMap(value) {\n    return value === null || value === undefined ? emptyOrderedMap() : isOrderedMap(value) ? value : emptyOrderedMap().withMutations(function (map) {\n      var iter = KeyedIterable(value);\n      assertNotInfinite(iter.size);\n      iter.forEach(function (v, k) {\n        return map.set(k, v);\n      });\n    });\n  }\n\n  OrderedMap.of = function () /*...values*/{\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function () {\n    return this.__toString('OrderedMap {', '}');\n  };\n\n  // @pragma Access\n\n  OrderedMap.prototype.get = function (k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  };\n\n  // @pragma Modification\n\n  OrderedMap.prototype.clear = function () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      return this;\n    }\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.wasAltered = function () {\n    return this._map.wasAltered() || this._list.wasAltered();\n  };\n\n  OrderedMap.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return this._list.__iterate(function (entry) {\n      return entry && fn(entry[1], entry[0], this$0);\n    }, reverse);\n  };\n\n  OrderedMap.prototype.__iterator = function (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) {\n      // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function (entry, idx) {\n          return entry !== undefined && i !== idx;\n        });\n        newMap = newList.toKeyedSeq().map(function (entry) {\n          return entry[0];\n        }).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  ToKeyedSequence.prototype.get = function (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function () {\n    var this$0 = this;\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () {\n        return this$0._iter.toSeq().reverse();\n      };\n    }\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function (mapper, context) {\n    var this$0 = this;\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () {\n        return this$0._iter.toSeq().map(mapper, context);\n      };\n    }\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    var ii;\n    return this._iter.__iterate(this._useKeys ? function (v, k) {\n      return fn(v, k, this$0);\n    } : (ii = reverse ? resolveSize(this) : 0, function (v) {\n      return fn(v, reverse ? --ii : ii++, this$0);\n    }), reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function (type, reverse) {\n    if (this._useKeys) {\n      return this._iter.__iterator(type, reverse);\n    }\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var ii = reverse ? resolveSize(this) : 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n    });\n  };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n  createClass(ToIndexedSequence, IndexedSeq);\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  ToIndexedSequence.prototype.includes = function (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    var iterations = 0;\n    return this._iter.__iterate(function (v) {\n      return fn(v, iterations++, this$0);\n    }, reverse);\n  };\n\n  ToIndexedSequence.prototype.__iterator = function (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n\n  createClass(ToSetSequence, SetSeq);\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  ToSetSequence.prototype.has = function (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return this._iter.__iterate(function (v) {\n      return fn(v, v, this$0);\n    }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  createClass(FromEntriesSequence, KeyedSeq);\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  FromEntriesSequence.prototype.entrySeq = function () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return this._iter.__iterate(function (entry) {\n      // Check if entry exists first so array access doesn't throw for holes\n      // in the parent iteration.\n      if (entry) {\n        validateEntry(entry);\n        var indexedIterable = isIterable(entry);\n        return fn(indexedIterable ? entry.get(1) : entry[1], indexedIterable ? entry.get(0) : entry[0], this$0);\n      }\n    }, reverse);\n  };\n\n  FromEntriesSequence.prototype.__iterator = function (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return iteratorValue(type, indexedIterable ? entry.get(0) : entry[0], indexedIterable ? entry.get(1) : entry[1], step);\n        }\n      }\n    });\n  };\n\n  ToIndexedSequence.prototype.cacheResult = ToKeyedSequence.prototype.cacheResult = ToSetSequence.prototype.cacheResult = FromEntriesSequence.prototype.cacheResult = cacheResultThrough;\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function () {\n      return iterable;\n    };\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function () {\n        return iterable.reverse();\n      };\n      return reversedSequence;\n    };\n    flipSequence.has = function (key) {\n      return iterable.includes(key);\n    };\n    flipSequence.includes = function (key) {\n      return iterable.has(key);\n    };\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      return iterable.__iterate(function (v, k) {\n        return fn(k, v, this$0) !== false;\n      }, reverse);\n    };\n    flipSequence.__iteratorUncached = function (type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function () {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES, reverse);\n    };\n    return flipSequence;\n  }\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function (key) {\n      return iterable.has(key);\n    };\n    mappedSequence.get = function (key, notSetValue) {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ? notSetValue : mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      return iterable.__iterate(function (v, k, c) {\n        return fn(mapper.call(context, v, k, c), k, this$0) !== false;\n      }, reverse);\n    };\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(type, key, mapper.call(context, entry[1], key, iterable), step);\n      });\n    };\n    return mappedSequence;\n  }\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function () {\n      return iterable;\n    };\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function () {\n          return iterable.flip();\n        };\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function (key, notSetValue) {\n      return iterable.get(useKeys ? key : -1 - key, notSetValue);\n    };\n    reversedSequence.has = function (key) {\n      return iterable.has(useKeys ? key : -1 - key);\n    };\n    reversedSequence.includes = function (value) {\n      return iterable.includes(value);\n    };\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {\n      var this$0 = this;\n      return iterable.__iterate(function (v, k) {\n        return fn(v, k, this$0);\n      }, !reverse);\n    };\n    reversedSequence.__iterator = function (type, reverse) {\n      return iterable.__iterator(type, !reverse);\n    };\n    return reversedSequence;\n  }\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function (key) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function (key, notSetValue) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ? v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function (v, k, c) {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function () {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    };\n    return filterSequence;\n  }\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function (v, k) {\n      groups.update(grouper.call(context, v, k, iterable), 0, function (a) {\n        return a + 1;\n      });\n    });\n    return groups.asImmutable();\n  }\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function (v, k) {\n      groups.update(grouper.call(context, v, k, iterable), function (a) {\n        return a = a || [], a.push(isKeyedIter ? [k, v] : v), a;\n      });\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function (arr) {\n      return reify(iterable, coerce(arr));\n    });\n  }\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      if (end === Infinity) {\n        end = originalSize;\n      } else {\n        end = end | 0;\n      }\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ? iterable.get(index + resolvedBegin, notSetValue) : notSetValue;\n      };\n    }\n\n    sliceSeq.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function (v, k) {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false && iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function (type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function () {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    };\n\n    return sliceSeq;\n  }\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function (v, k, c) {\n        return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0);\n      });\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function (type, reverse) {\n      var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function () {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function (v, k, c) {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function (type, reverse) {\n      var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function () {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function (v) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ? keyedSeqFromValue(v) : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function (v) {\n      return v.size !== 0;\n    });\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable || isKeyedIterable && isKeyed(singleton) || isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(function (sum, seq) {\n      if (sum !== undefined) {\n        var size = seq.size;\n        if (size !== undefined) {\n          return sum + size;\n        }\n      }\n    }, 0);\n    return concatSeq;\n  }\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function (fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {\n        var this$0 = this;\n        iter.__iterate(function (v, k) {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    };\n    flatSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function () {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    };\n    return flatSequence;\n  }\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(function (v, k) {\n      return coerce(mapper.call(context, v, k, iterable));\n    }).flatten(true);\n  }\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 - 1;\n    interposedSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function (v, k) {\n        return (!iterations || fn(separator, iterations++, this$0) !== false) && fn(v, iterations++, this$0) !== false;\n      }, reverse);\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function () {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ? iteratorValue(type, iterations++, separator) : iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(function (v, k) {\n      return [k, v, index++, mapper ? mapper(v, k, iterable) : v];\n    }).toArray();\n    entries.sort(function (a, b) {\n      return comparator(a[3], b[3]) || a[2] - b[2];\n    }).forEach(isKeyedIterable ? function (v, i) {\n      entries[i].length = 2;\n    } : function (v, i) {\n      entries[i] = v[1];\n    });\n    return isKeyedIterable ? KeyedSeq(entries) : isIndexed(iterable) ? IndexedSeq(entries) : SetSeq(entries);\n  }\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq().map(function (v, k) {\n        return [v, mapper(v, k, iterable)];\n      }).reduce(function (a, b) {\n        return maxCompare(comparator, a[1], b[1]) ? b : a;\n      });\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function (a, b) {\n        return maxCompare(comparator, a, b) ? b : a;\n      });\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return comp === 0 && b !== a && (b === undefined || b === null || b !== b) || comp > 0;\n  }\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function (i) {\n      return i.size;\n    }).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function (fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function (type, reverse) {\n      var iterators = iters.map(function (i) {\n        return i = Iterable(i), getIterator(reverse ? i.reverse() : i);\n      });\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function () {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function (i) {\n            return i.next();\n          });\n          isDone = steps.some(function (s) {\n            return s.done;\n          });\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(type, iterations++, zipper.apply(null, steps.map(function (s) {\n          return s.value;\n        })));\n      });\n    };\n    return zipSequence;\n  }\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable : isIndexed(iterable) ? IndexedIterable : SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create((isKeyed(iterable) ? KeyedSeq : isIndexed(iterable) ? IndexedSeq : SetSeq).prototype);\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n  function Record(defaultValues, name) {\n    var hasInitialized;\n\n    var RecordType = function Record(values) {\n      if (values instanceof RecordType) {\n        return values;\n      }\n      if (!(this instanceof RecordType)) {\n        return new RecordType(values);\n      }\n      if (!hasInitialized) {\n        hasInitialized = true;\n        var keys = Object.keys(defaultValues);\n        setProps(RecordTypePrototype, keys);\n        RecordTypePrototype.size = keys.length;\n        RecordTypePrototype._name = name;\n        RecordTypePrototype._keys = keys;\n        RecordTypePrototype._defaultValues = defaultValues;\n      }\n      this._map = Map(values);\n    };\n\n    var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n    RecordTypePrototype.constructor = RecordType;\n\n    return RecordType;\n  }\n\n  Record.prototype.toString = function () {\n    return this.__toString(recordName(this) + ' {', '}');\n  };\n\n  // @pragma Access\n\n  Record.prototype.has = function (k) {\n    return this._defaultValues.hasOwnProperty(k);\n  };\n\n  Record.prototype.get = function (k, notSetValue) {\n    if (!this.has(k)) {\n      return notSetValue;\n    }\n    var defaultVal = this._defaultValues[k];\n    return this._map ? this._map.get(k, defaultVal) : defaultVal;\n  };\n\n  // @pragma Modification\n\n  Record.prototype.clear = function () {\n    if (this.__ownerID) {\n      this._map && this._map.clear();\n      return this;\n    }\n    var RecordType = this.constructor;\n    return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n  };\n\n  Record.prototype.set = function (k, v) {\n    if (!this.has(k)) {\n      throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n    }\n    if (this._map && !this._map.has(k)) {\n      var defaultVal = this._defaultValues[k];\n      if (v === defaultVal) {\n        return this;\n      }\n    }\n    var newMap = this._map && this._map.set(k, v);\n    if (this.__ownerID || newMap === this._map) {\n      return this;\n    }\n    return makeRecord(this, newMap);\n  };\n\n  Record.prototype.remove = function (k) {\n    if (!this.has(k)) {\n      return this;\n    }\n    var newMap = this._map && this._map.remove(k);\n    if (this.__ownerID || newMap === this._map) {\n      return this;\n    }\n    return makeRecord(this, newMap);\n  };\n\n  Record.prototype.wasAltered = function () {\n    return this._map.wasAltered();\n  };\n\n  Record.prototype.__iterator = function (type, reverse) {\n    var this$0 = this;\n    return KeyedIterable(this._defaultValues).map(function (_, k) {\n      return this$0.get(k);\n    }).__iterator(type, reverse);\n  };\n\n  Record.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return KeyedIterable(this._defaultValues).map(function (_, k) {\n      return this$0.get(k);\n    }).__iterate(fn, reverse);\n  };\n\n  Record.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map && this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return makeRecord(this, newMap, ownerID);\n  };\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn = RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function get() {\n        return this.get(name);\n      },\n      set: function set(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n  // @pragma Construction\n\n  function Set(value) {\n    return value === null || value === undefined ? emptySet() : isSet(value) && !isOrdered(value) ? value : emptySet().withMutations(function (set) {\n      var iter = SetIterable(value);\n      assertNotInfinite(iter.size);\n      iter.forEach(function (v) {\n        return set.add(v);\n      });\n    });\n  }\n\n  Set.of = function () /*...values*/{\n    return this(arguments);\n  };\n\n  Set.fromKeys = function (value) {\n    return this(KeyedIterable(value).keySeq());\n  };\n\n  Set.prototype.toString = function () {\n    return this.__toString('Set {', '}');\n  };\n\n  // @pragma Access\n\n  Set.prototype.has = function (value) {\n    return this._map.has(value);\n  };\n\n  // @pragma Modification\n\n  Set.prototype.add = function (value) {\n    return updateSet(this, this._map.set(value, true));\n  };\n\n  Set.prototype.remove = function (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function () {\n    return updateSet(this, this._map.clear());\n  };\n\n  // @pragma Composition\n\n  Set.prototype.union = function () {\n    var iters = SLICE$0.call(arguments, 0);\n    iters = iters.filter(function (x) {\n      return x.size !== 0;\n    });\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetIterable(iters[ii]).forEach(function (value) {\n          return set.add(value);\n        });\n      }\n    });\n  };\n\n  Set.prototype.intersect = function () {\n    var iters = SLICE$0.call(arguments, 0);\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) {\n      return SetIterable(iter);\n    });\n    var originalSet = this;\n    return this.withMutations(function (set) {\n      originalSet.forEach(function (value) {\n        if (!iters.every(function (iter) {\n          return iter.includes(value);\n        })) {\n          set.remove(value);\n        }\n      });\n    });\n  };\n\n  Set.prototype.subtract = function () {\n    var iters = SLICE$0.call(arguments, 0);\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) {\n      return SetIterable(iter);\n    });\n    var originalSet = this;\n    return this.withMutations(function (set) {\n      originalSet.forEach(function (value) {\n        if (iters.some(function (iter) {\n          return iter.includes(value);\n        })) {\n          set.remove(value);\n        }\n      });\n    });\n  };\n\n  Set.prototype.merge = function () {\n    return this.union.apply(this, arguments);\n  };\n\n  Set.prototype.mergeWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return this.union.apply(this, iters);\n  };\n\n  Set.prototype.sort = function (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return this._map.__iterate(function (_, k) {\n      return fn(k, k, this$0);\n    }, reverse);\n  };\n\n  Set.prototype.__iterator = function (type, reverse) {\n    return this._map.map(function (_, k) {\n      return k;\n    }).__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  };\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set : newMap.size === 0 ? set.__empty() : set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n  // @pragma Construction\n\n  function OrderedSet(value) {\n    return value === null || value === undefined ? emptyOrderedSet() : isOrderedSet(value) ? value : emptyOrderedSet().withMutations(function (set) {\n      var iter = SetIterable(value);\n      assertNotInfinite(iter.size);\n      iter.forEach(function (v) {\n        return set.add(v);\n      });\n    });\n  }\n\n  OrderedSet.of = function () /*...values*/{\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function (value) {\n    return this(KeyedIterable(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n  // @pragma Construction\n\n  function Stack(value) {\n    return value === null || value === undefined ? emptyStack() : isStack(value) ? value : emptyStack().unshiftAll(value);\n  }\n\n  Stack.of = function () /*...values*/{\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function () {\n    return this.__toString('Stack [', ']');\n  };\n\n  // @pragma Access\n\n  Stack.prototype.get = function (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function () {\n    return this._head && this._head.value;\n  };\n\n  // @pragma Modification\n\n  Stack.prototype.push = function () /*...values*/{\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments[ii],\n        next: head\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function (iter) {\n    iter = IndexedIterable(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.reverse().forEach(function (value) {\n      newSize++;\n      head = {\n        value: value,\n        next: head\n      };\n    });\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.unshift = function () /*...values*/{\n    return this.push.apply(this, arguments);\n  };\n\n  Stack.prototype.unshiftAll = function (iter) {\n    return this.pushAll(iter);\n  };\n\n  Stack.prototype.shift = function () {\n    return this.pop.apply(this, arguments);\n  };\n\n  Stack.prototype.clear = function () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection.prototype.slice.call(this, begin, end);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  // @pragma Mutability\n\n  Stack.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  };\n\n  // @pragma Iteration\n\n  Stack.prototype.__iterate = function (fn, reverse) {\n    if (reverse) {\n      return this.reverse().__iterate(fn);\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function (type, reverse) {\n    if (reverse) {\n      return this.reverse().__iterator(type);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    });\n  };\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function keyCopier(key) {\n      ctor.prototype[key] = methods[key];\n    };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols && Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function toArray() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function (v, i) {\n        array[i] = v;\n      });\n      return array;\n    },\n\n    toIndexedSeq: function toIndexedSeq() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function toJS() {\n      return this.toSeq().map(function (value) {\n        return value && typeof value.toJS === 'function' ? value.toJS() : value;\n      }).__toJS();\n    },\n\n    toJSON: function toJSON() {\n      return this.toSeq().map(function (value) {\n        return value && typeof value.toJSON === 'function' ? value.toJSON() : value;\n      }).__toJS();\n    },\n\n    toKeyedSeq: function toKeyedSeq() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function toMap() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function toObject() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function (v, k) {\n        object[k] = v;\n      });\n      return object;\n    },\n\n    toOrderedMap: function toOrderedMap() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function toOrderedSet() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function toSet() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function toSetSeq() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function toSeq() {\n      return isIndexed(this) ? this.toIndexedSeq() : isKeyed(this) ? this.toKeyedSeq() : this.toSetSeq();\n    },\n\n    toStack: function toStack() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function toList() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    // ### Common JavaScript methods and properties\n\n    toString: function toString() {\n      return '[Iterable]';\n    },\n\n    __toString: function __toString(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function concat() {\n      var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function includes(searchValue) {\n      return this.some(function (value) {\n        return is(value, searchValue);\n      });\n    },\n\n    entries: function entries() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function every(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function (v, k, c) {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function filter(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function find(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    forEach: function forEach(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function join(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function (v) {\n        isFirst ? isFirst = false : joined += separator;\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function keys() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function map(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function reduce(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function (v, k, c) {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function reduceRight(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function reverse() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function slice(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function some(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function sort(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function values() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n    // ### More sequential methods\n\n    butLast: function butLast() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function isEmpty() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function () {\n        return true;\n      });\n    },\n\n    count: function count(predicate, context) {\n      return ensureSize(predicate ? this.toSeq().filter(predicate, context) : this);\n    },\n\n    countBy: function countBy(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function equals(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function entrySeq() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function () {\n        return iterable.toSeq();\n      };\n      return entriesSequence;\n    },\n\n    filterNot: function filterNot(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findEntry: function findEntry(predicate, context, notSetValue) {\n      var found = notSetValue;\n      this.__iterate(function (v, k, c) {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findKey: function findKey(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLast: function findLast(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    findLastEntry: function findLastEntry(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);\n    },\n\n    findLastKey: function findLastKey(predicate, context) {\n      return this.toKeyedSeq().reverse().findKey(predicate, context);\n    },\n\n    first: function first() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function flatMap(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function flatten(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function fromEntrySeq() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function get(searchKey, notSetValue) {\n      return this.find(function (_, key) {\n        return is(key, searchKey);\n      }, undefined, notSetValue);\n    },\n\n    getIn: function getIn(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function groupBy(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function has(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function hasIn(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function isSubset(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function (value) {\n        return iter.includes(value);\n      });\n    },\n\n    isSuperset: function isSuperset(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keyOf: function keyOf(searchValue) {\n      return this.findKey(function (value) {\n        return is(value, searchValue);\n      });\n    },\n\n    keySeq: function keySeq() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function last() {\n      return this.toSeq().reverse().first();\n    },\n\n    lastKeyOf: function lastKeyOf(searchValue) {\n      return this.toKeyedSeq().reverse().keyOf(searchValue);\n    },\n\n    max: function max(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function maxBy(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function min(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function minBy(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function rest() {\n      return this.slice(1);\n    },\n\n    skip: function skip(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function skipLast(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function skipWhile(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function skipUntil(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function sortBy(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function take(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function takeLast(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function takeWhile(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function takeUntil(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function valueSeq() {\n      return this.toIndexedSeq();\n    },\n\n    // ### Hashable Object\n\n    hashCode: function hashCode() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect = IterablePrototype.toSource = function () {\n    return this.toString();\n  };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function flip() {\n      return reify(this, flipFactory(this));\n    },\n\n    mapEntries: function mapEntries(mapper, context) {\n      var this$0 = this;\n      var iterations = 0;\n      return reify(this, this.toSeq().map(function (v, k) {\n        return mapper.call(context, [k, v], iterations++, this$0);\n      }).fromEntrySeq());\n    },\n\n    mapKeys: function mapKeys(mapper, context) {\n      var this$0 = this;\n      return reify(this, this.toSeq().flip().map(function (k, v) {\n        return mapper.call(context, k, v, this$0);\n      }).flip());\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function (v, k) {\n    return JSON.stringify(k) + ': ' + quoteString(v);\n  };\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function toKeyedSeq() {\n      return new ToKeyedSequence(this, false);\n    },\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function filter(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function findIndex(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function indexOf(searchValue) {\n      var key = this.keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function lastIndexOf(searchValue) {\n      var key = this.lastKeyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    reverse: function reverse() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function slice(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function splice(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || numArgs === 2 && !removeNum) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(this, numArgs === 1 ? spliced : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum)));\n    },\n\n    // ### More collection methods\n\n    findLastIndex: function findLastIndex(predicate, context) {\n      var entry = this.findLastEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    first: function first() {\n      return this.get(0);\n    },\n\n    flatten: function flatten(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function get(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index < 0 || this.size === Infinity || this.size !== undefined && index > this.size ? notSetValue : this.find(function (_, key) {\n        return key === index;\n      }, undefined, notSetValue);\n    },\n\n    has: function has(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ? this.size === Infinity || index < this.size : this.indexOf(index) !== -1);\n    },\n\n    interpose: function interpose(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function interleave() /*...iterables*/{\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    keySeq: function keySeq() {\n      return Range(0, this.size);\n    },\n\n    last: function last() {\n      return this.get(-1);\n    },\n\n    skipWhile: function skipWhile(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function zip() /*, ...iterables */{\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function zipWith(zipper /*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function get(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function includes(value) {\n      return this.has(value);\n    },\n\n    // ### More sequential methods\n\n    keySeq: function keySeq() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n  SetIterable.prototype.contains = SetIterable.prototype.includes;\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function () {\n      return !predicate.apply(this, arguments);\n    };\n  }\n\n  function neg(predicate) {\n    return function () {\n      return -predicate.apply(this, arguments);\n    };\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(keyed ? ordered ? function (v, k) {\n      h = 31 * h + hashMerge(hash(v), hash(k)) | 0;\n    } : function (v, k) {\n      h = h + hashMerge(hash(v), hash(k)) | 0;\n    } : ordered ? function (v) {\n      h = 31 * h + hash(v) | 0;\n    } : function (v) {\n      h = h + hash(v) | 0;\n    });\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CRUD = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.default = actionFn;\n\nvar _fastApply = __webpack_require__(9);\n\nvar _fastApply2 = _interopRequireDefault(_fastApply);\n\nvar _url = __webpack_require__(1);\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _urlTransform = __webpack_require__(23);\n\nvar _urlTransform2 = _interopRequireDefault(_urlTransform);\n\nvar _merge = __webpack_require__(2);\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _get = __webpack_require__(24);\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _fetchResolver = __webpack_require__(22);\n\nvar _fetchResolver2 = _interopRequireDefault(_fetchResolver);\n\nvar _PubSub = __webpack_require__(20);\n\nvar _PubSub2 = _interopRequireDefault(_PubSub);\n\nvar _createHolder = __webpack_require__(21);\n\nvar _createHolder2 = _interopRequireDefault(_createHolder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction none() {}\n\nfunction extractArgs(args) {\n  var pathvars = void 0;\n  var params = {};\n  var callback = void 0;\n  if (args[0] instanceof Function) {\n    callback = args[0];\n  } else if (args[1] instanceof Function) {\n    pathvars = args[0];\n    callback = args[1];\n  } else {\n    pathvars = args[0];\n    params = args[1];\n    callback = args[2] || none;\n  }\n  return [pathvars, params, callback];\n}\n\nfunction helperCrudFunction(name) {\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _extractArgs = extractArgs(args),\n        _extractArgs2 = _slicedToArray(_extractArgs, 3),\n        pathvars = _extractArgs2[0],\n        params = _extractArgs2[1],\n        cb = _extractArgs2[2];\n\n    return [pathvars, _extends({}, params, { method: name.toUpperCase() }), cb];\n  };\n}\n\nfunction defaultMiddlewareArgsParser(dispatch, _getState) {\n  return {\n    dispatch: dispatch,\n    getState: function getState() {\n      return _getState().toJS();\n    }\n  };\n}\n\nvar CRUD = exports.CRUD = [\"get\", \"post\", \"put\", \"delete\", \"patch\"].reduce(function (memo, name) {\n  memo[name] = helperCrudFunction(name);\n  return memo;\n}, {});\n\n/**\n * Constructor for create action\n * @param  {String} url          endpoint's url\n * @param  {String} name         action name\n * @param  {Object} options      action configuration\n * @param  {Object} ACTIONS      map of actions\n * @param  {[type]} fetchAdapter adapter for fetching data\n * @return {Function+Object}     action function object\n */\nfunction actionFn(url, name, options) {\n  var ACTIONS = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var meta = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  var actionFetch = ACTIONS.actionFetch,\n      actionSuccess = ACTIONS.actionSuccess,\n      actionFail = ACTIONS.actionFail,\n      actionReset = ACTIONS.actionReset;\n\n  var pubsub = new _PubSub2.default();\n  var requestHolder = (0, _createHolder2.default)();\n  /**\n   * Fetch data from server\n   * @param  {Object}   pathvars    path vars for url\n   * @param  {Object}   params      fetch params\n   * @param  {Function} getState    helper meta function\n  */\n  var request = function request(pathvars, params) {\n    var getState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : none;\n\n    var responseHandler = meta && meta.holder && meta.holder.responseHandler;\n    var resultUrlT = (0, _urlTransform2.default)(url, pathvars, meta.urlOptions);\n    var urlT = resultUrlT;\n    var rootUrl = meta.holder ? meta.holder.rootUrl : null;\n    rootUrl = rootUrl instanceof Function ? rootUrl(urlT, params, getState) : rootUrl;\n    if (rootUrl) {\n      var rootUrlObject = _url2.default.parse(rootUrl);\n      var urlObject = _url2.default.parse(urlT);\n      if (!urlObject.host) {\n        var urlPath = (rootUrlObject.path ? rootUrlObject.path.replace(/\\/$/, \"\") : \"\") + \"/\" + (urlObject.path ? urlObject.path.replace(/^\\//, \"\") : \"\");\n        urlT = rootUrlObject.protocol + \"//\" + rootUrlObject.host + urlPath;\n      }\n    }\n    var globalOptions = !meta.holder ? {} : meta.holder.options instanceof Function ? meta.holder.options(urlT, params, getState) : meta.holder.options;\n    var baseOptions = options instanceof Function ? options(urlT, params, getState) : options;\n    var opts = (0, _merge2.default)({}, globalOptions, baseOptions, params);\n    var response = meta.fetch(urlT, opts);\n    var result = !meta.validation ? response : response.then(function (data) {\n      return new Promise(function (resolve, reject) {\n        return meta.validation(data, function (err) {\n          return err ? reject(err) : resolve(data);\n        });\n      });\n    });\n    var ret = result;\n    if (responseHandler) {\n      if (result && result.then) {\n        ret = result.then(function (data) {\n          var res = responseHandler(null, data);\n          if (res === undefined) {\n            return data;\n          } else {\n            return res;\n          }\n        }, function (err) {\n          return responseHandler(err);\n        });\n      } else {\n        ret = responseHandler(result);\n      }\n    }\n    ret && ret.catch && ret.catch(none);\n    return ret;\n  };\n\n  /**\n   * Fetch data from server\n   * @param  {Object}   pathvars    path vars for url\n   * @param  {Object}   params      fetch params\n   * @param  {Function} callback)   callback execute after end request\n   */\n  function fn() {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var _extractArgs3 = extractArgs(args),\n        _extractArgs4 = _slicedToArray(_extractArgs3, 3),\n        pathvars = _extractArgs4[0],\n        params = _extractArgs4[1],\n        callback = _extractArgs4[2];\n\n    var syncing = params ? !!params.syncing : false;\n    params && delete params.syncing;\n    pubsub.push(callback);\n    return function () {\n      var middlewareParser = meta.holder && meta.holder.middlewareParser || defaultMiddlewareArgsParser;\n\n      var _middlewareParser = middlewareParser.apply(undefined, arguments),\n          dispatch = _middlewareParser.dispatch,\n          getState = _middlewareParser.getState;\n\n      var reducerName = meta.reducerName,\n          prefix = meta.prefix;\n\n      var state = getState();\n      var isLoading = (0, _get2.default)(state, prefix, reducerName, \"loading\");\n      if (isLoading) {\n        return;\n      }\n      var requestOptions = { pathvars: pathvars, params: params };\n      var prevData = (0, _get2.default)(state, prefix, reducerName, \"data\");\n      dispatch({ type: actionFetch, syncing: syncing, request: requestOptions });\n      var fetchResolverOpts = {\n        dispatch: dispatch,\n        getState: getState,\n        requestOptions: requestOptions,\n        actions: meta.actions,\n        prefetch: meta.prefetch\n      };\n      var result = new Promise(function (done, fail) {\n        (0, _fetchResolver2.default)(0, fetchResolverOpts, function (err) {\n          if (err) {\n            pubsub.reject(err);\n            return fail(err);\n          }\n          new Promise(function (resolve, reject) {\n            requestHolder.set({\n              resolve: resolve,\n              reject: reject,\n              promise: request(pathvars, params, getState).then(resolve, reject)\n            });\n          }).then(function (d) {\n            requestHolder.pop();\n            var data = meta.transformer(d, prevData, {\n              type: actionSuccess, request: requestOptions\n            });\n            dispatch({\n              data: data,\n              origData: d,\n              type: actionSuccess,\n              syncing: false,\n              request: requestOptions\n            });\n            if (meta.broadcast) {\n              meta.broadcast.forEach(function (type) {\n                dispatch({ type: type, data: data, origData: d, request: requestOptions });\n              });\n            }\n            if (meta.postfetch) {\n              meta.postfetch.forEach(function (postfetch) {\n                postfetch instanceof Function && postfetch({\n                  data: data, getState: getState, dispatch: dispatch, actions: meta.actions, request: requestOptions\n                });\n              });\n            }\n            pubsub.resolve(data);\n            done(data);\n          }, function (error) {\n            dispatch({ type: actionFail, syncing: false, error: error, request: requestOptions });\n            pubsub.reject(error);\n            fail(error);\n          });\n        });\n      });\n      result.catch(none);\n      return result;\n    };\n  }\n\n  /*\n    Pure rest request\n   */\n  fn.request = request;\n\n  /**\n   * Reset store to initial state\n   */\n  fn.reset = function (mutation) {\n    var defer = requestHolder.pop();\n    defer && defer.reject(new Error(\"Application abort request\"));\n    return mutation === \"sync\" ? { type: actionReset, mutation: mutation } : { type: actionReset };\n  };\n\n  /**\n   * Sync store with server. In server mode works as usual method.\n   * If data have already synced, data would not fetch after call this method.\n   * @param  {Object} pathvars    path vars for url\n   * @param  {Object} params      fetch params\n   * @param  {Function} callback) callback execute after end request\n   */\n  fn.sync = function () {\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    var _extractArgs5 = extractArgs(args),\n        _extractArgs6 = _slicedToArray(_extractArgs5, 3),\n        pathvars = _extractArgs6[0],\n        params = _extractArgs6[1],\n        callback = _extractArgs6[2];\n\n    var isServer = meta.holder ? meta.holder.server : false;\n    return function (dispatch, getState) {\n      var state = getState();\n      var store = state[name];\n      if (!isServer && store && store.sync) {\n        callback(null, store.data);\n        return;\n      }\n      var modifyParams = _extends({}, params, { syncing: true });\n      return fn(pathvars, modifyParams, callback)(dispatch, getState);\n    };\n  };\n\n  var helpers = meta.helpers || {};\n  if (meta.crud) {\n    helpers = _extends({}, CRUD, helpers);\n  }\n  var fnHelperCallback = function fnHelperCallback(memo, func, helpername) {\n    if (memo[helpername]) {\n      throw new Error(\"Helper name: \\\"\" + helpername + \"\\\" for endpoint \\\"\" + name + \"\\\" has been already reserved\");\n    }\n\n    var _ref = func instanceof Function ? { call: func } : func,\n        sync = _ref.sync,\n        call = _ref.call;\n\n    memo[helpername] = function () {\n      for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return function (dispatch, getState) {\n        var index = args.length - 1;\n        var callbackFn = args[index] instanceof Function ? args[index] : none;\n        var helpersResult = (0, _fastApply2.default)(call, { getState: getState, dispatch: dispatch, actions: meta.actions }, args);\n        var result = new Promise(function (resolve, reject) {\n          var callback = function callback(err, data) {\n            err ? reject(err) : resolve(data);\n            callbackFn(err, data);\n          };\n          // If helper alias using async functionality\n          if (helpersResult instanceof Function) {\n            helpersResult(function (error) {\n              var newArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n              if (error) {\n                callback(error);\n              } else {\n                (0, _fastApply2.default)(sync ? fn.sync : fn, null, newArgs.concat(callback))(dispatch, getState);\n              }\n            });\n          } else {\n            // if helper alias is synchronous\n            var _helpersResult = _slicedToArray(helpersResult, 2),\n                pathvars = _helpersResult[0],\n                params = _helpersResult[1];\n\n            (0, _fastApply2.default)(sync ? fn.sync : fn, null, [pathvars, params, callback])(dispatch, getState);\n          }\n        });\n        result.catch(none);\n        return result;\n      };\n    };\n    return memo;\n  };\n\n  return Object.keys(helpers).reduce(function (memo, key) {\n    return fnHelperCallback(memo, helpers[key], key, helpers);\n  }, fn);\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = async;\n/**\n *\n * @param  {[type]}    dispatch [description]\n * @param  {...[type]} args     [description]\n * @return {[type]}             [description]\n * @example\n * async(dispatch,\n *   cb=> actions.test(1, cb),\n *   actions.test2\n * ).then(()=> async(dispatch, actions.test3))\n */\nfunction async(dispatch) {\n  for (var _len = arguments.length, restFunctions = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    restFunctions[_key - 2] = arguments[_key];\n  }\n\n  var currentFunction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  return new Promise(function (resolve, reject) {\n    if (!currentFunction) {\n      reject(\"no chain function\");\n    } else {\n      dispatch(currentFunction(function (err, data) {\n        err ? reject(err) : resolve(data);\n      }) || {});\n    }\n  }).then(function (data) {\n    if (restFunctions.length) {\n      return async.apply(undefined, [dispatch].concat(restFunctions));\n    } else {\n      return data;\n    }\n  });\n}\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* eslint no-case-declarations: 0 */\n/**\n * Reducer contructor\n * @param  {Object}   initialState default initial state\n * @param  {Object}   actions      actions map\n * @param  {Function} transformer  transformer function\n * @param  {Function} reducer      custom reducer function\n * @return {Function}              reducer function\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = reducerFn;\nfunction reducerFn(initialState) {\n  var actions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var reducer = arguments[2];\n  var actionFetch = actions.actionFetch,\n      actionSuccess = actions.actionSuccess,\n      actionFail = actions.actionFail,\n      actionReset = actions.actionReset;\n\n  return function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments[1];\n\n    switch (action.type) {\n      case actionFetch:\n        return state.merge({\n          loading: true,\n          error: null,\n          syncing: !!action.syncing\n        });\n      case actionSuccess:\n        return state.mergeDeep({\n          loading: false,\n          sync: true,\n          syncing: false,\n          error: null,\n          data: action.data\n        });\n      case actionFail:\n        return state.merge({\n          loading: false,\n          error: action.error,\n          syncing: false\n        });\n      case actionReset:\n        var mutation = action.mutation;\n\n        return mutation === \"sync\" ? state.merge({ sync: false }) : _extends({}, initialState);\n      default:\n        return reducer ? reducer(state, action) : state;\n    }\n  };\n}\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar toString = Object.prototype.toString;\nvar OBJECT = \"[object Object]\";\n\n/**\n * Default responce transformens\n */\nexports.default = {\n  array: function array(data) {\n    return !data ? [] : Array.isArray(data) ? data : [data];\n  },\n  object: function object(data) {\n    if (!data) {\n      return {};\n    }\n    return toString.call(data) === OBJECT ? data : { data: data };\n  }\n};\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = fastApply;\n\nfunction fastApply(fn, context, args) {\n\n    switch (args ? args.length : 0) {\n        case 0:\n            return context ? fn.call(context) : fn();\n        case 1:\n            return context ? fn.call(context, args[0]) : fn(args[0]);\n        case 2:\n            return context ? fn.call(context, args[0], args[1]) : fn(args[0], args[1]);\n        case 3:\n            return context ? fn.call(context, args[0], args[1], args[2]) : fn(args[0], args[1], args[2]);\n        case 4:\n            return context ? fn.call(context, args[0], args[1], args[2], args[3]) : fn(args[0], args[1], args[2], args[3]);\n        case 5:\n            return context ? fn.call(context, args[0], args[1], args[2], args[3], args[4]) : fn(args[0], args[1], args[2], args[3], args[4]);\n        default:\n            return fn.apply(context, args);\n    }\n}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(module, global) {var __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function (root) {\n\n\t/** Detect free variables */\n\tvar freeExports = ( false ? 'undefined' : _typeof(exports)) == 'object' && exports && !exports.nodeType && exports;\n\tvar freeModule = ( false ? 'undefined' : _typeof(module)) == 'object' && module && !module.nodeType && module;\n\tvar freeGlobal = (typeof global === 'undefined' ? 'undefined' : _typeof(global)) == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n  * The `punycode` object.\n  * @name punycode\n  * @type Object\n  */\n\tvar punycode,\n\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647,\n\t    // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\t    tMin = 1,\n\t    tMax = 26,\n\t    skew = 38,\n\t    damp = 700,\n\t    initialBias = 72,\n\t    initialN = 128,\n\t    // 0x80\n\tdelimiter = '-',\n\t    // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\t    regexNonASCII = /[^\\x20-\\x7E]/,\n\t    // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g,\n\t    // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\t    floor = Math.floor,\n\t    stringFromCharCode = String.fromCharCode,\n\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n  * A generic error utility function.\n  * @private\n  * @param {String} type The error type.\n  * @returns {Error} Throws a `RangeError` with the applicable error message.\n  */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n  * A generic `Array#map` utility function.\n  * @private\n  * @param {Array} array The array to iterate over.\n  * @param {Function} callback The function that gets called for every array\n  * item.\n  * @returns {Array} A new array of values returned by the callback function.\n  */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n  * A simple `Array#map`-like wrapper to work with domain name strings or email\n  * addresses.\n  * @private\n  * @param {String} domain The domain name or email address.\n  * @param {Function} callback The function that gets called for every\n  * character.\n  * @returns {Array} A new string of characters returned by the callback\n  * function.\n  */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n  * Creates an array containing the numeric code points of each Unicode\n  * character in the string. While JavaScript uses UCS-2 internally,\n  * this function will convert a pair of surrogate halves (each of which\n  * UCS-2 exposes as separate characters) into a single code point,\n  * matching UTF-16.\n  * @see `punycode.ucs2.encode`\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode.ucs2\n  * @name decode\n  * @param {String} string The Unicode input string (UCS-2).\n  * @returns {Array} The new array of code points.\n  */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t\t// low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n  * Creates a string based on an array of numeric code points.\n  * @see `punycode.ucs2.decode`\n  * @memberOf punycode.ucs2\n  * @name encode\n  * @param {Array} codePoints The array of numeric code points.\n  * @returns {String} The new Unicode string (UCS-2).\n  */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function (value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n  * Converts a basic code point into a digit/integer.\n  * @see `digitToBasic()`\n  * @private\n  * @param {Number} codePoint The basic numeric code point value.\n  * @returns {Number} The numeric value of a basic code point (for use in\n  * representing integers) in the range `0` to `base - 1`, or `base` if\n  * the code point does not represent a value.\n  */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n  * Converts a digit/integer into a basic code point.\n  * @see `basicToDigit()`\n  * @private\n  * @param {Number} digit The numeric value of a basic code point.\n  * @returns {Number} The basic code point whose value (when used for\n  * representing integers) is `digit`, which needs to be in the range\n  * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n  * used; else, the lowercase form is used. The behavior is undefined\n  * if `flag` is non-zero and `digit` has no uppercase form.\n  */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n  * Bias adaptation function as per section 3.4 of RFC 3492.\n  * https://tools.ietf.org/html/rfc3492#section-3.4\n  * @private\n  */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n  * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n  * symbols.\n  * @memberOf punycode\n  * @param {String} input The Punycode string of ASCII-only symbols.\n  * @returns {String} The resulting string of Unicode symbols.\n  */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\n\t\t/** Cached calculation results */\n\t\tbaseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n  * Converts a string of Unicode symbols (e.g. a domain name label) to a\n  * Punycode string of ASCII-only symbols.\n  * @memberOf punycode\n  * @param {String} input The string of Unicode symbols.\n  * @returns {String} The resulting Punycode string of ASCII-only symbols.\n  */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\n\t\t/** `inputLength` will hold the number of code points in `input`. */\n\t\tinputLength,\n\n\t\t/** Cached calculation results */\n\t\thandledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n  * Converts a Punycode string representing a domain name or an email address\n  * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n  * it doesn't matter if you call it on a string that has already been\n  * converted to Unicode.\n  * @memberOf punycode\n  * @param {String} input The Punycoded domain name or email address to\n  * convert to Unicode.\n  * @returns {String} The Unicode representation of the given Punycode\n  * string.\n  */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function (string) {\n\t\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t\t});\n\t}\n\n\t/**\n  * Converts a Unicode string representing a domain name or an email address to\n  * Punycode. Only the non-ASCII parts of the domain name will be converted,\n  * i.e. it doesn't matter if you call it with a domain that's already in\n  * ASCII.\n  * @memberOf punycode\n  * @param {String} input The domain name or email address to convert, as a\n  * Unicode string.\n  * @returns {String} The Punycode representation of the given domain name or\n  * email address.\n  */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function (string) {\n\t\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n   * A string representing the current Punycode.js version number.\n   * @memberOf punycode\n   * @type String\n   */\n\t\t'version': '1.4.1',\n\t\t/**\n   * An object of methods to convert from JavaScript's internal character\n   * representation (UCS-2) to Unicode code points, and back.\n   * @see <https://mathiasbynens.be/notes/javascript-encoding>\n   * @memberOf punycode\n   * @type Object\n   */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\"function\" == 'function' && _typeof(__webpack_require__(3)) == 'object' && __webpack_require__(3)) {\n\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t\t\treturn punycode;\n\t\t}.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n})(undefined);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(19)(module), __webpack_require__(18)))\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// Load modules\n\nvar Stringify = __webpack_require__(13);\nvar Parse = __webpack_require__(12);\n\n// Declare internals\n\nvar internals = {};\n\nmodule.exports = {\n    stringify: Stringify,\n    parse: Parse\n};\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// Load modules\n\nvar Utils = __webpack_require__(0);\n\n// Declare internals\n\nvar internals = {\n    delimiter: '&',\n    depth: 5,\n    arrayLimit: 20,\n    parameterLimit: 1000,\n    strictNullHandling: false,\n    plainObjects: false,\n    allowPrototypes: false,\n    allowDots: false\n};\n\ninternals.parseValues = function (str, options) {\n\n    var obj = {};\n    var parts = str.split(options.delimiter, options.parameterLimit === Infinity ? undefined : options.parameterLimit);\n\n    for (var i = 0, il = parts.length; i < il; ++i) {\n        var part = parts[i];\n        var pos = part.indexOf(']=') === -1 ? part.indexOf('=') : part.indexOf(']=') + 1;\n\n        if (pos === -1) {\n            obj[Utils.decode(part)] = '';\n\n            if (options.strictNullHandling) {\n                obj[Utils.decode(part)] = null;\n            }\n        } else {\n            var key = Utils.decode(part.slice(0, pos));\n            var val = Utils.decode(part.slice(pos + 1));\n\n            if (!Object.prototype.hasOwnProperty.call(obj, key)) {\n                obj[key] = val;\n            } else {\n                obj[key] = [].concat(obj[key]).concat(val);\n            }\n        }\n    }\n\n    return obj;\n};\n\ninternals.parseObject = function (chain, val, options) {\n\n    if (!chain.length) {\n        return val;\n    }\n\n    var root = chain.shift();\n\n    var obj;\n    if (root === '[]') {\n        obj = [];\n        obj = obj.concat(internals.parseObject(chain, val, options));\n    } else {\n        obj = options.plainObjects ? Object.create(null) : {};\n        var cleanRoot = root[0] === '[' && root[root.length - 1] === ']' ? root.slice(1, root.length - 1) : root;\n        var index = parseInt(cleanRoot, 10);\n        var indexString = '' + index;\n        if (!isNaN(index) && root !== cleanRoot && indexString === cleanRoot && index >= 0 && options.parseArrays && index <= options.arrayLimit) {\n\n            obj = [];\n            obj[index] = internals.parseObject(chain, val, options);\n        } else {\n            obj[cleanRoot] = internals.parseObject(chain, val, options);\n        }\n    }\n\n    return obj;\n};\n\ninternals.parseKeys = function (key, val, options) {\n\n    if (!key) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n\n    if (options.allowDots) {\n        key = key.replace(/\\.([^\\.\\[]+)/g, '[$1]');\n    }\n\n    // The regex chunks\n\n    var parent = /^([^\\[\\]]*)/;\n    var child = /(\\[[^\\[\\]]*\\])/g;\n\n    // Get the parent\n\n    var segment = parent.exec(key);\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (segment[1]) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && Object.prototype.hasOwnProperty(segment[1])) {\n\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(segment[1]);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n\n        ++i;\n        if (!options.plainObjects && Object.prototype.hasOwnProperty(segment[1].replace(/\\[|\\]/g, ''))) {\n\n            if (!options.allowPrototypes) {\n                continue;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return internals.parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, options) {\n\n    options = options || {};\n    options.delimiter = typeof options.delimiter === 'string' || Utils.isRegExp(options.delimiter) ? options.delimiter : internals.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : internals.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : internals.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : internals.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : internals.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : internals.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : internals.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : internals.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? internals.parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0, il = keys.length; i < il; ++i) {\n        var key = keys[i];\n        var newObj = internals.parseKeys(key, tempObj[key], options);\n        obj = Utils.merge(obj, newObj, options);\n    }\n\n    return Utils.compact(obj);\n};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n// Load modules\n\nvar Utils = __webpack_require__(0);\n\n// Declare internals\n\nvar internals = {\n    delimiter: '&',\n    arrayPrefixGenerators: {\n        brackets: function brackets(prefix, key) {\n\n            return prefix + '[]';\n        },\n        indices: function indices(prefix, key) {\n\n            return prefix + '[' + key + ']';\n        },\n        repeat: function repeat(prefix, key) {\n\n            return prefix;\n        }\n    },\n    strictNullHandling: false,\n    skipNulls: false,\n    encode: true\n};\n\ninternals.stringify = function (obj, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort) {\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (Utils.isBuffer(obj)) {\n        obj = obj.toString();\n    } else if (obj instanceof Date) {\n        obj = obj.toISOString();\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encode ? Utils.encode(prefix) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean') {\n\n        if (encode) {\n            return [Utils.encode(prefix) + '=' + Utils.encode(obj)];\n        }\n        return [prefix + '=' + obj];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0, il = objKeys.length; i < il; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(internals.stringify(obj[key], generateArrayPrefix(prefix, key), generateArrayPrefix, strictNullHandling, skipNulls, encode, filter));\n        } else {\n            values = values.concat(internals.stringify(obj[key], prefix + '[' + key + ']', generateArrayPrefix, strictNullHandling, skipNulls, encode, filter));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (obj, options) {\n\n    options = options || {};\n    var delimiter = typeof options.delimiter === 'undefined' ? internals.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : internals.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : internals.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : internals.encode;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var objKeys;\n    var filter;\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        objKeys = filter = options.filter;\n    }\n\n    var keys = [];\n\n    if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object' || obj === null) {\n\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in internals.arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = internals.arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0, il = objKeys.length; i < il; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n\n            continue;\n        }\n\n        keys = keys.concat(internals.stringify(obj[key], key, generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort));\n    }\n\n    return keys.join(delimiter);\n};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function (qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr,\n        vstr,\n        k,\n        v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar stringifyPrimitive = function stringifyPrimitive(v) {\n  switch (typeof v === 'undefined' ? 'undefined' : _typeof(v)) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function (obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object') {\n    return map(objectKeys(obj), function (k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function (v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq + encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map(xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.decode = exports.parse = __webpack_require__(14);\nexports.encode = exports.stringify = __webpack_require__(15);\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nmodule.exports = {\n  isString: function isString(arg) {\n    return typeof arg === 'string';\n  },\n  isObject: function isObject(arg) {\n    return (typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === 'object' && arg !== null;\n  },\n  isNull: function isNull(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function isNullOrUndefined(arg) {\n    return arg == null;\n  }\n};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar g;\n\n// This works in non-strict mode\ng = function () {\n\treturn this;\n}();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function () {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PubSub = function () {\n  function PubSub() {\n    _classCallCheck(this, PubSub);\n\n    this.container = [];\n  }\n\n  _createClass(PubSub, [{\n    key: \"push\",\n    value: function push(cb) {\n      cb instanceof Function && this.container.push(cb);\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(data) {\n      this.container.forEach(function (cb) {\n        return cb(null, data);\n      });\n      this.container = [];\n    }\n  }, {\n    key: \"reject\",\n    value: function reject(err) {\n      this.container.forEach(function (cb) {\n        return cb(err);\n      });\n      this.container = [];\n    }\n  }]);\n\n  return PubSub;\n}();\n\nexports.default = PubSub;\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  var data = void 0;\n  var hasData = false;\n  return {\n    set: function set(val) {\n      if (!hasData) {\n        data = val;\n        hasData = true;\n        return true;\n      }\n      return false;\n    },\n    empty: function empty() {\n      return !hasData;\n    },\n    pop: function pop() {\n      if (hasData) {\n        hasData = false;\n        var result = data;\n        data = null;\n        return result;\n      }\n    }\n  };\n};\n\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = fetchResolver;\nfunction none() {}\n\nfunction fetchResolver() {\n  var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var cb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : none;\n\n  if (!opts.prefetch || index >= opts.prefetch.length) {\n    cb();\n  } else {\n    opts.prefetch[index](opts, function (err) {\n      return err ? cb(err) : fetchResolver(index + 1, opts, cb);\n    });\n  }\n}\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = urlTransform;\n\nvar _qs = __webpack_require__(11);\n\nvar _qs2 = _interopRequireDefault(_qs);\n\nvar _url = __webpack_require__(1);\n\nvar _omit = __webpack_require__(25);\n\nvar _omit2 = _interopRequireDefault(_omit);\n\nvar _merge = __webpack_require__(2);\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint no-useless-escape: 0 */\nvar rxClean = /(\\(:[^\\)]+\\)|:[^\\/]+)/g;\n\n/**\n * Url modification\n * @param  {String} url     url template\n * @param  {Object} params  params for url template\n * @param  {Object} options transformation options, accepts +delimiter+, +arrayFormat+,\n *                          +qsStringifyOptions+ and +qsParseOptions+\n * @return {String}         result url\n */\nfunction urlTransform(url, params, options) {\n  if (!url) {\n    return \"\";\n  }\n  params || (params = {});\n  var usedKeys = {};\n\n  var urlWithParams = Object.keys(params).reduce(function (url, key) {\n    var value = params[key];\n    var rx = new RegExp(\"(\\\\(:\" + key + \"\\\\)|:\" + key + \")\", \"g\");\n    return url.replace(rx, function () {\n      usedKeys[key] = value;\n      return value;\n    });\n  }, url);\n\n  if (!urlWithParams) {\n    return urlWithParams;\n  }\n\n  var _parse = (0, _url.parse)(urlWithParams),\n      protocol = _parse.protocol,\n      host = _parse.host,\n      path = _parse.path;\n\n  var cleanURL = host ? protocol + \"//\" + host + path.replace(rxClean, \"\") : path.replace(rxClean, \"\");\n  var usedKeysArray = Object.keys(usedKeys);\n  if (usedKeysArray.length !== Object.keys(params).length) {\n    var urlObject = cleanURL.split(\"?\");\n    options || (options = {});\n    var _options = options,\n        arrayFormat = _options.arrayFormat,\n        delimiter = _options.delimiter;\n\n    var qsParseOptions = _extends({\n      arrayFormat: arrayFormat,\n      delimiter: delimiter\n    }, options.qsParseOptions);\n    var mergeParams = (0, _merge2.default)(urlObject[1] && _qs2.default.parse(urlObject[1], qsParseOptions), (0, _omit2.default)(params, usedKeysArray));\n    var qsStringifyOptions = _extends({\n      arrayFormat: arrayFormat,\n      delimiter: delimiter\n    }, options.qsStringifyOptions);\n    var urlStringParams = _qs2.default.stringify(mergeParams, qsStringifyOptions);\n    return urlObject[0] + \"?\" + urlStringParams;\n  }\n  return cleanURL;\n}\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* eslint no-void: 0 */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (obj) {\n  for (var _len = arguments.length, path = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    path[_key - 1] = arguments[_key];\n  }\n\n  return path.reduce(function (memo, name) {\n    return isEmpty(name) ? memo : memo && memo[name];\n  }, obj);\n};\n\nfunction isEmpty(name) {\n  return name === \"\" || name === null || name === void 0;\n}\n\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = function (object, props) {\n  if (!Array.isArray(props)) {\n    return _extends({}, object);\n  }\n\n  return Object.keys(object || {}).reduce(function (memo, key) {\n    if (props.indexOf(key) === -1) {\n      memo[key] = object[key];\n    }\n    return memo;\n  }, {});\n};\n\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* eslint no-void: 0 */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = reduxApi;\n\nvar _immutable = __webpack_require__(4);\n\nvar _reducerFn = __webpack_require__(7);\n\nvar _reducerFn2 = _interopRequireDefault(_reducerFn);\n\nvar _actionFn = __webpack_require__(5);\n\nvar _actionFn2 = _interopRequireDefault(_actionFn);\n\nvar _transformers = __webpack_require__(8);\n\nvar _transformers2 = _interopRequireDefault(_transformers);\n\nvar _async = __webpack_require__(6);\n\nvar _async2 = _interopRequireDefault(_async);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// export { transformers, async };\n\n/**\n * Default configuration for each endpoint\n * @type {Object}\n */\nvar defaultEndpointConfig = {\n  transformer: _transformers2.default.object\n};\n\nvar PREFIX = \"@@redux-api\";\n/**\n * Entry api point\n * @param {Object} config Rest api configuration\n * @param {Object} baseConfig baseConfig settings for Rest api\n * @param {Function} fetch Adapter for rest requests\n * @param {Boolean} isServer false by default (fif you want to use it for isomorphic apps)\n * @return {actions, reducers}        { actions, reducers}\n * @example ```js\n *   const api = reduxApi({\n *     test: \"/plain/url\",\n *     testItem: \"/plain/url/:id\",\n *     testModify: {\n *       url: \"/plain/url/:endpoint\",\n\n *       transformer: (data)=> !data ?\n *          { title: \"\", message: \"\" } :\n *          { title: data.title, message: data.message },\n *       options: {\n *         method: \"post\"\n *         headers: {\n *           \"Accept\": \"application/json\",\n *           \"Content-Type\": \"application/json\"\n *         }\n *       }\n *     }\n *   });\n *   // register reducers\n *\n *   // call actions\n *   dispatch(api.actions.test());\n *   dispatch(api.actions.testItem({id: 1}));\n *   dispatch(api.actions.testModify({endpoint: \"upload-1\"}, {\n *     body: JSON.stringify({title: \"Hello\", message: \"World\"})\n *   }));\n * ```\n */\n\nfunction reduxApi(config, baseConfig) {\n  config || (config = {});\n\n  var fetchHolder = {\n    fetch: null,\n    server: false,\n    rootUrl: null,\n    middlewareParser: null,\n    options: {},\n    responseHandler: null\n  };\n\n  var cfg = {\n    use: function use(key, value) {\n      fetchHolder[key] = value;\n\n      return this;\n    },\n    init: function init(fetch) {\n      var isServer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var rootUrl = arguments[2];\n\n      /* eslint no-console: 0 */\n      console.warn(\"Deprecated method, use `use` method\");\n      this.use(\"fetch\", fetch);\n      this.use(\"server\", isServer);\n      this.use(\"rootUrl\", rootUrl);\n      return this;\n    },\n\n    actions: {},\n    reducers: {},\n    events: {}\n  };\n  function fnConfigCallback(memo, value, key) {\n    var opts = (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" ? _extends({}, defaultEndpointConfig, { reducerName: key }, value) : _extends({}, defaultEndpointConfig, { reducerName: key, url: value });\n\n    if (opts.broadcast !== void 0) {\n      /* eslint no-console: 0 */\n      console.warn(\"Deprecated `broadcast` option. you shoud use `events`\" + \"to catch redux-api events (see https://github.com/lexich/redux-api/blob/master/DOCS.md#Events)\");\n    }\n\n    var url = opts.url,\n        urlOptions = opts.urlOptions,\n        options = opts.options,\n        transformer = opts.transformer,\n        broadcast = opts.broadcast,\n        crud = opts.crud,\n        reducerName = opts.reducerName,\n        prefetch = opts.prefetch,\n        postfetch = opts.postfetch,\n        validation = opts.validation,\n        helpers = opts.helpers;\n\n\n    var prefix = baseConfig && baseConfig.prefix || \"\";\n\n    var ACTIONS = {\n      actionFetch: PREFIX + \"@\" + prefix + reducerName,\n      actionSuccess: PREFIX + \"@\" + prefix + reducerName + \"_success\",\n      actionFail: PREFIX + \"@\" + prefix + reducerName + \"_fail\",\n      actionReset: PREFIX + \"@\" + prefix + reducerName + \"_delete\"\n    };\n\n    var meta = {\n      urlOptions: urlOptions,\n      fetch: opts.fetch ? opts.fetch : function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return fetchHolder.fetch.apply(this, args);\n      },\n      holder: fetchHolder,\n      broadcast: broadcast,\n      virtual: !!opts.virtual,\n      reducerName: reducerName,\n      actions: memo.actions,\n      prefetch: prefetch,\n      postfetch: postfetch,\n      validation: validation,\n      helpers: helpers,\n      transformer: transformer,\n      prefix: prefix,\n      crud: crud\n    };\n\n    memo.actions[key] = (0, _actionFn2.default)(url, key, options, ACTIONS, meta);\n\n    if (!meta.virtual && !memo.reducers[reducerName]) {\n      var initialState = (0, _immutable.fromJS)({\n        sync: false,\n        syncing: false,\n        loading: false,\n        data: transformer()\n      });\n      var reducer = opts.reducer ? opts.reducer.bind(memo) : null;\n      memo.reducers[reducerName] = (0, _reducerFn2.default)(initialState, ACTIONS, reducer);\n    }\n    memo.events[reducerName] = ACTIONS;\n    return memo;\n  }\n\n  return Object.keys(config).reduce(function (memo, key) {\n    return fnConfigCallback(memo, config[key], key, config);\n  }, cfg);\n}\n\nreduxApi.transformers = _transformers2.default;\nreduxApi.async = _async2.default;\nmodule.exports = exports[\"default\"];\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// redux-api.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 26);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1d441bf9a18eec83ccec","// Load modules\n\n\n// Declare internals\n\nvar internals = {};\ninternals.hexTable = new Array(256);\nfor (var h = 0; h < 256; ++h) {\n    internals.hexTable[h] = '%' + ((h < 16 ? '0' : '') + h.toString(16)).toUpperCase();\n}\n\n\nexports.arrayToObject = function (source, options) {\n\n    var obj = options.plainObjects ? Object.create(null) : {};\n    for (var i = 0, il = source.length; i < il; ++i) {\n        if (typeof source[i] !== 'undefined') {\n\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\n\nexports.merge = function (target, source, options) {\n\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        }\n        else if (typeof target === 'object') {\n            target[source] = true;\n        }\n        else {\n            target = [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        target = [target].concat(source);\n        return target;\n    }\n\n    if (Array.isArray(target) &&\n        !Array.isArray(source)) {\n\n        target = exports.arrayToObject(target, options);\n    }\n\n    var keys = Object.keys(source);\n    for (var k = 0, kl = keys.length; k < kl; ++k) {\n        var key = keys[k];\n        var value = source[key];\n\n        if (!Object.prototype.hasOwnProperty.call(target, key)) {\n            target[key] = value;\n        }\n        else {\n            target[key] = exports.merge(target[key], value, options);\n        }\n    }\n\n    return target;\n};\n\n\nexports.decode = function (str) {\n\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function (str) {\n\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    if (typeof str !== 'string') {\n        str = '' + str;\n    }\n\n    var out = '';\n    for (var i = 0, il = str.length; i < il; ++i) {\n        var c = str.charCodeAt(i);\n\n        if (c === 0x2D || // -\n            c === 0x2E || // .\n            c === 0x5F || // _\n            c === 0x7E || // ~\n            (c >= 0x30 && c <= 0x39) || // 0-9\n            (c >= 0x41 && c <= 0x5A) || // a-z\n            (c >= 0x61 && c <= 0x7A)) { // A-Z\n\n            out += str[i];\n            continue;\n        }\n\n        if (c < 0x80) {\n            out += internals.hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out += internals.hexTable[0xC0 | (c >> 6)] + internals.hexTable[0x80 | (c & 0x3F)];\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out += internals.hexTable[0xE0 | (c >> 12)] + internals.hexTable[0x80 | ((c >> 6) & 0x3F)] + internals.hexTable[0x80 | (c & 0x3F)];\n            continue;\n        }\n\n        ++i;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (str.charCodeAt(i) & 0x3FF));\n        out += internals.hexTable[0xF0 | (c >> 18)] + internals.hexTable[0x80 | ((c >> 12) & 0x3F)] + internals.hexTable[0x80 | ((c >> 6) & 0x3F)] + internals.hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nexports.compact = function (obj, refs) {\n\n    if (typeof obj !== 'object' ||\n        obj === null) {\n\n        return obj;\n    }\n\n    refs = refs || [];\n    var lookup = refs.indexOf(obj);\n    if (lookup !== -1) {\n        return refs[lookup];\n    }\n\n    refs.push(obj);\n\n    if (Array.isArray(obj)) {\n        var compacted = [];\n\n        for (var i = 0, il = obj.length; i < il; ++i) {\n            if (typeof obj[i] !== 'undefined') {\n                compacted.push(obj[i]);\n            }\n        }\n\n        return compacted;\n    }\n\n    var keys = Object.keys(obj);\n    for (i = 0, il = keys.length; i < il; ++i) {\n        var key = keys[i];\n        obj[key] = exports.compact(obj[key], refs);\n    }\n\n    return obj;\n};\n\n\nexports.isRegExp = function (obj) {\n\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\n\nexports.isBuffer = function (obj) {\n\n    if (obj === null ||\n        typeof obj === 'undefined') {\n\n        return false;\n    }\n\n    return !!(obj.constructor &&\n              obj.constructor.isBuffer &&\n              obj.constructor.isBuffer(obj));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/qs/lib/utils.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/url/url.js","/* eslint no-void: 0 */\nconst toString = Object.prototype.toString;\nconst OBJECT = \"[object Object]\";\nconst ARRAY = \"[object Array]\";\n\nexport function mergePair(a, b) {\n  if (a === (void 0)) { return b; }\n  if (b === (void 0)) { return a; }\n\n  const aType = toString.call(a);\n  const bType = toString.call(b);\n  if (aType === ARRAY) {\n    return a.concat(b);\n  }\n  if (bType === ARRAY) {\n    return [a].concat(b);\n  }\n  if (aType !== OBJECT || bType !== OBJECT) {\n    return b;\n  }\n  return Object.keys(b).reduce((memo, key)=> {\n    memo[key] = mergePair(a[key], b[key]);\n    return memo;\n  }, a);\n}\n\nexport default function(...args) {\n  return args.length ? args.reduce(mergePair) : null;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/merge.js","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 3\n// module chunks = 0","/**\n *  Copyright (c) 2014-2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Immutable = factory());\n}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n      return isIterable(value) ? value : Seq(value);\n    }\n\n\n  createClass(KeyedIterable, Iterable);\n    function KeyedIterable(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n\n  createClass(IndexedIterable, Iterable);\n    function IndexedIterable(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n\n  createClass(SetIterable, Iterable);\n    function SetIterable(value) {\n      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^321.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size));\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ?\n      defaultIndex :\n      index < 0 ?\n        Math.max(0, size + index) :\n        size === undefined ?\n          index :\n          Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n\n  function Iterator(next) {\n      this.next = next;\n    }\n\n    Iterator.prototype.toString = function() {\n      return '[Iterator]';\n    };\n\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect =\n  Iterator.prototype.toSource = function () { return this.toString(); }\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n      value: value, done: false\n    });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (\n      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]\n    );\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n    function Seq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        isIterable(value) ? value.toSeq() : seqFromValue(value);\n    }\n\n    Seq.of = function(/*...values*/) {\n      return Seq(arguments);\n    };\n\n    Seq.prototype.toSeq = function() {\n      return this;\n    };\n\n    Seq.prototype.toString = function() {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function() {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, true);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, true);\n    };\n\n\n\n  createClass(KeyedSeq, Seq);\n    function KeyedSeq(value) {\n      return value === null || value === undefined ?\n        emptySequence().toKeyedSeq() :\n        isIterable(value) ?\n          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n          keyedSeqFromValue(value);\n    }\n\n    KeyedSeq.prototype.toKeyedSeq = function() {\n      return this;\n    };\n\n\n\n  createClass(IndexedSeq, Seq);\n    function IndexedSeq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n    }\n\n    IndexedSeq.of = function(/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function() {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function() {\n      return this.__toString('Seq [', ']');\n    };\n\n    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, false);\n    };\n\n    IndexedSeq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, false);\n    };\n\n\n\n  createClass(SetSeq, Seq);\n    function SetSeq(value) {\n      return (\n        value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value\n      ).toSetSeq();\n    }\n\n    SetSeq.of = function(/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function() {\n      return this;\n    };\n\n\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n\n\n  createClass(ArraySeq, IndexedSeq);\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    ArraySeq.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function(fn, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ArraySeq.prototype.__iterator = function(type, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n      );\n    };\n\n\n\n  createClass(ObjectSeq, KeyedSeq);\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    ObjectSeq.prototype.get = function(key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function(key) {\n      return this._object.hasOwnProperty(key);\n    };\n\n    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        if (fn(object[key], key, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ObjectSeq.prototype.__iterator = function(type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, key, object[key]);\n      });\n    };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(IterableSeq, IndexedSeq);\n    function IterableSeq(iterable) {\n      this._iterable = iterable;\n      this.size = iterable.length || iterable.size;\n    }\n\n    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n\n\n  createClass(IteratorSeq, IndexedSeq);\n    function IteratorSeq(iterator) {\n      this._iterator = iterator;\n      this._iteratorCache = [];\n    }\n\n    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      while (iterations < cache.length) {\n        if (fn(cache[iterations], iterations++, this) === false) {\n          return iterations;\n        }\n      }\n      var step;\n      while (!(step = iterator.next()).done) {\n        var val = step.value;\n        cache[iterations] = val;\n        if (fn(val, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n\n    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      return new Iterator(function()  {\n        if (iterations >= cache.length) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          cache[iterations] = step.value;\n        }\n        return iteratorValue(type, iterations, cache[iterations++]);\n      });\n    };\n\n\n\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq =\n      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n      typeof value === 'object' ? new ObjectSeq(value) :\n      undefined;\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of [k, v] entries, '+\n        'or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) ||\n      (typeof value === 'object' && new ObjectSeq(value));\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values, or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return (\n      isArrayLike(value) ? new ArraySeq(value) :\n      isIterator(value) ? new IteratorSeq(value) :\n      hasIterator(value) ? new IterableSeq(value) :\n      undefined\n    );\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ?\n      fromJSWith(converter, json, '', {'': json}) :\n      fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' &&\n        typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' &&\n        typeof valueB.equals === 'function' &&\n        valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isIterable(b) ||\n      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function(v, k)  {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function(v, k)  {\n      if (notAssociative ? !a.has(v) :\n          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    Repeat.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function(searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function(begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size) ? this :\n        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n    };\n\n    Repeat.prototype.reverse = function() {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function(fn, reverse) {\n      for (var ii = 0; ii < this.size; ii++) {\n        if (fn(this._value, ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n      );\n    };\n\n    Repeat.prototype.equals = function(other) {\n      return other instanceof Repeat ?\n        is(this._value, other._value) :\n        deepEqual(other);\n    };\n\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    Range.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return 'Range [ ' +\n        this._start + '...' + this._end +\n        (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]';\n    };\n\n    Range.prototype.get = function(index, notSetValue) {\n      return this.has(index) ?\n        this._start + wrapIndex(this, index) * this._step :\n        notSetValue;\n    };\n\n    Range.prototype.includes = function(searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex);\n    };\n\n    Range.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n    };\n\n    Range.prototype.indexOf = function(searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function(searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function(fn, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(value, ii, this) === false) {\n          return ii + 1;\n        }\n        value += reverse ? -step : step;\n      }\n      return ii;\n    };\n\n    Range.prototype.__iterator = function(type, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      var ii = 0;\n      return new Iterator(function()  {\n        var v = value;\n        value += reverse ? -step : step;\n        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n      });\n    };\n\n    Range.prototype.equals = function(other) {\n      return other instanceof Range ?\n        this._start === other._start &&\n        this._end === other._end &&\n        this._step === other._step :\n        deepEqual(this, other);\n    };\n\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n    function Collection() {\n      throw TypeError('Abstract');\n    }\n\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n    Math.imul :\n    function imul(a, b) {\n      a = a | 0; // int\n      b = b | 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n    };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      if (o !== o || o === Infinity) {\n        return 0;\n      }\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined &&\n               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function() {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function() {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  createClass(Map, KeyedCollection);\n\n    // @pragma Construction\n\n    function Map(value) {\n      return value === null || value === undefined ? emptyMap() :\n        isMap(value) && !isOrdered(value) ? value :\n        emptyMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    Map.of = function() {var keyValues = SLICE$0.call(arguments, 0);\n      return emptyMap().withMutations(function(map ) {\n        for (var i = 0; i < keyValues.length; i += 2) {\n          if (i + 1 >= keyValues.length) {\n            throw new Error('Missing value for key: ' + keyValues[i]);\n          }\n          map.set(keyValues[i], keyValues[i + 1]);\n        }\n      });\n    };\n\n    Map.prototype.toString = function() {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function(k, notSetValue) {\n      return this._root ?\n        this._root.get(0, undefined, k, notSetValue) :\n        notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function(k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.setIn = function(keyPath, v) {\n      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n    };\n\n    Map.prototype.remove = function(k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteIn = function(keyPath) {\n      return this.updateIn(keyPath, function()  {return NOT_SET});\n    };\n\n    Map.prototype.update = function(k, notSetValue, updater) {\n      return arguments.length === 1 ?\n        k(this) :\n        this.updateIn([k], notSetValue, updater);\n    };\n\n    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n      if (!updater) {\n        updater = notSetValue;\n        notSetValue = undefined;\n      }\n      var updatedValue = updateInDeepMap(\n        this,\n        forceIterator(keyPath),\n        notSetValue,\n        updater\n      );\n      return updatedValue === NOT_SET ? undefined : updatedValue;\n    };\n\n    Map.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.merge = function(/*...iters*/) {\n      return mergeIntoMapWith(this, undefined, arguments);\n    };\n\n    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, merger, iters);\n    };\n\n    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.merge === 'function' ?\n          m.merge.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoMapWith(this, deepMerger, arguments);\n    };\n\n    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n    };\n\n    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.mergeDeep === 'function' ?\n          m.mergeDeep.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.withMutations = function(fn) {\n      var mutable = this.asMutable();\n      fn(mutable);\n      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n    };\n\n    Map.prototype.asMutable = function() {\n      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n    };\n\n    Map.prototype.asImmutable = function() {\n      return this.__ensureOwner();\n    };\n\n    Map.prototype.wasAltered = function() {\n      return this.__altered;\n    };\n\n    Map.prototype.__iterator = function(type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      this._root && this._root.iterate(function(entry ) {\n        iterations++;\n        return fn(entry[1], entry[0], this$0);\n      }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n\n  // #pragma Trie Nodes\n\n\n\n    function ArrayMapNode(ownerID, entries) {\n      this.ownerID = ownerID;\n      this.entries = entries;\n    }\n\n    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && entries.length === 1) {\n        return; // undefined\n      }\n\n      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n        return createNodes(ownerID, entries, key, value);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new ArrayMapNode(ownerID, newEntries);\n    };\n\n\n\n\n    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n      this.ownerID = ownerID;\n      this.bitmap = bitmap;\n      this.nodes = nodes;\n    }\n\n    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n      var bitmap = this.bitmap;\n      return (bitmap & bit) === 0 ? notSetValue :\n        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n    };\n\n    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var bit = 1 << keyHashFrag;\n      var bitmap = this.bitmap;\n      var exists = (bitmap & bit) !== 0;\n\n      if (!exists && value === NOT_SET) {\n        return this;\n      }\n\n      var idx = popCount(bitmap & (bit - 1));\n      var nodes = this.nodes;\n      var node = exists ? nodes[idx] : undefined;\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n      if (newNode === node) {\n        return this;\n      }\n\n      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n      }\n\n      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n        return nodes[idx ^ 1];\n      }\n\n      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n        return newNode;\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n      var newNodes = exists ? newNode ?\n        setIn(nodes, idx, newNode, isEditable) :\n        spliceOut(nodes, idx, isEditable) :\n        spliceIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.bitmap = newBitmap;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n    };\n\n\n\n\n    function HashArrayMapNode(ownerID, count, nodes) {\n      this.ownerID = ownerID;\n      this.count = count;\n      this.nodes = nodes;\n    }\n\n    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var node = this.nodes[idx];\n      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n    };\n\n    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var removed = value === NOT_SET;\n      var nodes = this.nodes;\n      var node = nodes[idx];\n\n      if (removed && !node) {\n        return this;\n      }\n\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n      if (newNode === node) {\n        return this;\n      }\n\n      var newCount = this.count;\n      if (!node) {\n        newCount++;\n      } else if (!newNode) {\n        newCount--;\n        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n          return packNodes(ownerID, nodes, newCount, idx);\n        }\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.count = newCount;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new HashArrayMapNode(ownerID, newCount, newNodes);\n    };\n\n\n\n\n    function HashCollisionNode(ownerID, keyHash, entries) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entries = entries;\n    }\n\n    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n\n      var removed = value === NOT_SET;\n\n      if (keyHash !== this.keyHash) {\n        if (removed) {\n          return this;\n        }\n        SetRef(didAlter);\n        SetRef(didChangeSize);\n        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n      }\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && len === 2) {\n        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n    };\n\n\n\n\n    function ValueNode(ownerID, keyHash, entry) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entry = entry;\n    }\n\n    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n    };\n\n    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n      var keyMatch = is(key, this.entry[0]);\n      if (keyMatch ? value === this.entry[1] : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n\n      if (removed) {\n        SetRef(didChangeSize);\n        return; // undefined\n      }\n\n      if (keyMatch) {\n        if (ownerID && ownerID === this.ownerID) {\n          this.entry[1] = value;\n          return this;\n        }\n        return new ValueNode(ownerID, this.keyHash, [key, value]);\n      }\n\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n    };\n\n\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate =\n  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  }\n\n  BitmapIndexedNode.prototype.iterate =\n  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  }\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  }\n\n  createClass(MapIterator, Iterator);\n\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    MapIterator.prototype.next = function() {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex;\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ?\n      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ?\n      existing.mergeDeep(value) :\n      is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function(existing, value, key)  {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function(x ) {return x.size !== 0});\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function(collection ) {\n      var mergeIntoMap = merger ?\n        function(value, key)  {\n          collection.update(key, NOT_SET, function(existing )\n            {return existing === NOT_SET ? value : merger(existing, value, key)}\n          );\n        } :\n        function(value, key)  {\n          collection.set(key, value);\n        }\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(\n      isNotSet || (existing && existing.set),\n      'invalid keyPath'\n    );\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(\n      nextExisting,\n      keyPathIter,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting ? existing :\n      nextUpdated === NOT_SET ? existing.remove(key) :\n      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - ((x >> 1) & 0x55555555);\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n    // @pragma Construction\n\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedIterable(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function(list ) {\n        list.setSize(size);\n        iter.forEach(function(v, i)  {return list.set(i, v)});\n      });\n    }\n\n    List.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function() {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function(index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function(index) {\n      return !this.has(index) ? this :\n        index === 0 ? this.shift() :\n        index === this.size - 1 ? this.pop() :\n        this.splice(index, 1);\n    };\n\n    List.prototype.insert = function(index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function(/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function(list ) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function() {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function(/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function(list ) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function() {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.merge = function(/*...iters*/) {\n      return mergeIntoListWith(this, undefined, arguments);\n    };\n\n    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, merger, iters);\n    };\n\n    List.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoListWith(this, deepMerger, arguments);\n    };\n\n    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n    };\n\n    List.prototype.setSize = function(size) {\n      return setListBounds(this, 0, size);\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function(begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function(type, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function()  {\n        var value = values();\n        return value === DONE ?\n          iteratorDone() :\n          iteratorValue(type, index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function(fn, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        return this;\n      }\n      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n    };\n\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn =\n  ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n\n    function VNode(array, ownerID) {\n      this.array = array;\n      this.ownerID = ownerID;\n    }\n\n    // TODO: seems like these methods are very similar\n\n    VNode.prototype.removeBefore = function(ownerID, level, index) {\n      if (index === level ? 1 << level : 0 || this.array.length === 0) {\n        return this;\n      }\n      var originIndex = (index >>> level) & MASK;\n      if (originIndex >= this.array.length) {\n        return new VNode([], ownerID);\n      }\n      var removingFirst = originIndex === 0;\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[originIndex];\n        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && removingFirst) {\n          return this;\n        }\n      }\n      if (removingFirst && !newChild) {\n        return this;\n      }\n      var editable = editableVNode(this, ownerID);\n      if (!removingFirst) {\n        for (var ii = 0; ii < originIndex; ii++) {\n          editable.array[ii] = undefined;\n        }\n      }\n      if (newChild) {\n        editable.array[originIndex] = newChild;\n      }\n      return editable;\n    };\n\n    VNode.prototype.removeAfter = function(ownerID, level, index) {\n      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n        return this;\n      }\n      var sizeIndex = ((index - 1) >>> level) & MASK;\n      if (sizeIndex >= this.array.length) {\n        return this;\n      }\n\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[sizeIndex];\n        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n          return this;\n        }\n      }\n\n      var editable = editableVNode(this, ownerID);\n      editable.array.splice(sizeIndex + 1);\n      if (newChild) {\n        editable.array[sizeIndex] = newChild;\n      }\n      return editable;\n    };\n\n\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ?\n        iterateLeaf(node, offset) :\n        iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx], level - SHIFT, offset + (idx << level)\n          );\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function(list ) {\n        index < 0 ?\n          setListBounds(list, index).set(0, value) :\n          setListBounds(list, 0, index + 1).set(index, value)\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ?\n      listNodeFor(list, newCapacity - 1) :\n      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n  }\n\n  createClass(OrderedMap, Map);\n\n    // @pragma Construction\n\n    function OrderedMap(value) {\n      return value === null || value === undefined ? emptyOrderedMap() :\n        isOrderedMap(value) ? value :\n        emptyOrderedMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    OrderedMap.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function() {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function(k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function(k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function(k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.wasAltered = function() {\n      return this._map.wasAltered() || this._list.wasAltered();\n    };\n\n    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._list.__iterate(\n        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function(type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) { // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function(key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function() {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var ii;\n      return this._iter.__iterate(\n        this._useKeys ?\n          function(v, k)  {return fn(v, k, this$0)} :\n          ((ii = reverse ? resolveSize(this) : 0),\n            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n        reverse\n      );\n    };\n\n    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n      if (this._useKeys) {\n        return this._iter.__iterator(type, reverse);\n      }\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var ii = reverse ? resolveSize(this) : 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n      });\n    };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(ToIndexedSequence, IndexedSeq);\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToIndexedSequence.prototype.includes = function(value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n    };\n\n    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, iterations++, step.value, step)\n      });\n    };\n\n\n\n  createClass(ToSetSequence, SetSeq);\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToSetSequence.prototype.has = function(key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n\n\n  createClass(FromEntriesSequence, KeyedSeq);\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    FromEntriesSequence.prototype.entrySeq = function() {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(entry ) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return fn(\n            indexedIterable ? entry.get(1) : entry[1],\n            indexedIterable ? entry.get(0) : entry[0],\n            this$0\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedIterable = isIterable(entry);\n            return iteratorValue(\n              type,\n              indexedIterable ? entry.get(0) : entry[0],\n              indexedIterable ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n\n  ToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function()  {return iterable};\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function()  {return iterable.reverse()};\n      return reversedSequence;\n    };\n    flipSequence.has = function(key ) {return iterable.includes(key)};\n    flipSequence.includes = function(key ) {return iterable.has(key)};\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n    }\n    flipSequence.__iteratorUncached = function(type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function()  {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    }\n    return flipSequence;\n  }\n\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function(key ) {return iterable.has(key)};\n    mappedSequence.get = function(key, notSetValue)  {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ?\n        notSetValue :\n        mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(\n        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n        reverse\n      );\n    }\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, iterable),\n          step\n        );\n      });\n    }\n    return mappedSequence;\n  }\n\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function()  {return iterable};\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function()  {return iterable.flip()};\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function(key, notSetValue) \n      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n    reversedSequence.has = function(key )\n      {return iterable.has(useKeys ? key : -1 - key)};\n    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n    };\n    reversedSequence.__iterator =\n      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n    return reversedSequence;\n  }\n\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function(key ) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function(key, notSetValue)  {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n          v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    }\n    return filterSequence;\n  }\n\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        0,\n        function(a ) {return a + 1}\n      );\n    });\n    return groups.asImmutable();\n  }\n\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n      );\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n  }\n\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      if (end === Infinity) {\n        end = originalSize;\n      } else {\n        end = end | 0;\n      }\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ?\n          iterable.get(index + resolvedBegin, notSetValue) :\n          notSetValue;\n      }\n    }\n\n    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k)  {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n                 iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function(type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    }\n\n    return sliceSeq;\n  }\n\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c) \n        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function()  {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function(v ) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ?\n          keyedSeqFromValue(v) :\n          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function(v ) {return v.size !== 0});\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable ||\n          isKeyedIterable && isKeyed(singleton) ||\n          isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(\n      function(sum, seq)  {\n        if (sum !== undefined) {\n          var size = seq.size;\n          if (size !== undefined) {\n            return sum + size;\n          }\n        }\n      },\n      0\n    );\n    return concatSeq;\n  }\n\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function(fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {var this$0 = this;\n        iter.__iterate(function(v, k)  {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    }\n    flatSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    }\n    return flatSequence;\n  }\n\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(\n      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n    ).flatten(true);\n  }\n\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k) \n        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n        fn(v, iterations++, this$0) !== false},\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function()  {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ?\n          iteratorValue(type, iterations++, separator) :\n          iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(\n      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n    ).toArray();\n    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n      isKeyedIterable ?\n      function(v, i)  { entries[i].length = 2; } :\n      function(v, i)  { entries[i] = v[1]; }\n    );\n    return isKeyedIterable ? KeyedSeq(entries) :\n      isIndexed(iterable) ? IndexedSeq(entries) :\n      SetSeq(entries);\n  }\n\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq()\n        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n  }\n\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function(fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function(type, reverse) {\n      var iterators = iters.map(function(i )\n        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function()  {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function(i ) {return i.next()});\n          isDone = steps.some(function(s ) {return s.done});\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(null, steps.map(function(s ) {return s.value}))\n        );\n      });\n    };\n    return zipSequence\n  }\n\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable :\n      isIndexed(iterable) ? IndexedIterable :\n      SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create(\n      (\n        isKeyed(iterable) ? KeyedSeq :\n        isIndexed(iterable) ? IndexedSeq :\n        SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n    function Record(defaultValues, name) {\n      var hasInitialized;\n\n      var RecordType = function Record(values) {\n        if (values instanceof RecordType) {\n          return values;\n        }\n        if (!(this instanceof RecordType)) {\n          return new RecordType(values);\n        }\n        if (!hasInitialized) {\n          hasInitialized = true;\n          var keys = Object.keys(defaultValues);\n          setProps(RecordTypePrototype, keys);\n          RecordTypePrototype.size = keys.length;\n          RecordTypePrototype._name = name;\n          RecordTypePrototype._keys = keys;\n          RecordTypePrototype._defaultValues = defaultValues;\n        }\n        this._map = Map(values);\n      };\n\n      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n      RecordTypePrototype.constructor = RecordType;\n\n      return RecordType;\n    }\n\n    Record.prototype.toString = function() {\n      return this.__toString(recordName(this) + ' {', '}');\n    };\n\n    // @pragma Access\n\n    Record.prototype.has = function(k) {\n      return this._defaultValues.hasOwnProperty(k);\n    };\n\n    Record.prototype.get = function(k, notSetValue) {\n      if (!this.has(k)) {\n        return notSetValue;\n      }\n      var defaultVal = this._defaultValues[k];\n      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n    };\n\n    // @pragma Modification\n\n    Record.prototype.clear = function() {\n      if (this.__ownerID) {\n        this._map && this._map.clear();\n        return this;\n      }\n      var RecordType = this.constructor;\n      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n    };\n\n    Record.prototype.set = function(k, v) {\n      if (!this.has(k)) {\n        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n      }\n      if (this._map && !this._map.has(k)) {\n        var defaultVal = this._defaultValues[k];\n        if (v === defaultVal) {\n          return this;\n        }\n      }\n      var newMap = this._map && this._map.set(k, v);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.remove = function(k) {\n      if (!this.has(k)) {\n        return this;\n      }\n      var newMap = this._map && this._map.remove(k);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n    };\n\n    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n    };\n\n    Record.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map && this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return makeRecord(this, newMap, ownerID);\n    };\n\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn =\n  RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n    // @pragma Construction\n\n    function Set(value) {\n      return value === null || value === undefined ? emptySet() :\n        isSet(value) && !isOrdered(value) ? value :\n        emptySet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    Set.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    Set.prototype.toString = function() {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function(value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function(value) {\n      return updateSet(this, this._map.set(value, true));\n    };\n\n    Set.prototype.remove = function(value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function() {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n      iters = iters.filter(function(x ) {return x.size !== 0});\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function(set ) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n        }\n      });\n    };\n\n    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (iters.some(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.merge = function() {\n      return this.union.apply(this, arguments);\n    };\n\n    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return this.union.apply(this, iters);\n    };\n\n    Set.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n    };\n\n    Set.prototype.__iterator = function(type, reverse) {\n      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set :\n      newMap.size === 0 ? set.__empty() :\n      set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n    // @pragma Construction\n\n    function OrderedSet(value) {\n      return value === null || value === undefined ? emptyOrderedSet() :\n        isOrderedSet(value) ? value :\n        emptyOrderedSet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    OrderedSet.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function() {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n    // @pragma Construction\n\n    function Stack(value) {\n      return value === null || value === undefined ? emptyStack() :\n        isStack(value) ? value :\n        emptyStack().unshiftAll(value);\n    }\n\n    Stack.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function() {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function(index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function() {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function(/*...values*/) {\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments[ii],\n          next: head\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function(iter) {\n      iter = IndexedIterable(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.reverse().forEach(function(value ) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      });\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function() {\n      return this.slice(1);\n    };\n\n    Stack.prototype.unshift = function(/*...values*/) {\n      return this.push.apply(this, arguments);\n    };\n\n    Stack.prototype.unshiftAll = function(iter) {\n      return this.pushAll(iter);\n    };\n\n    Stack.prototype.shift = function() {\n      return this.pop.apply(this, arguments);\n    };\n\n    Stack.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function(fn, reverse) {\n      if (reverse) {\n        return this.reverse().__iterate(fn);\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function(type, reverse) {\n      if (reverse) {\n        return this.reverse().__iterator(type);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function()  {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n      return array;\n    },\n\n    toIndexedSeq: function() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n      ).__toJS();\n    },\n\n    toJSON: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n      ).__toJS();\n    },\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function(v, k)  { object[k] = v; });\n      return object;\n    },\n\n    toOrderedMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function() {\n      return isIndexed(this) ? this.toIndexedSeq() :\n        isKeyed(this) ? this.toKeyedSeq() :\n        this.toSetSeq();\n    },\n\n    toStack: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n\n    // ### Common JavaScript methods and properties\n\n    toString: function() {\n      return '[Iterable]';\n    },\n\n    __toString: function(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function() {var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function(searchValue) {\n      return this.some(function(value ) {return is(value, searchValue)});\n    },\n\n    entries: function() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function(v, k, c)  {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    forEach: function(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function(v ) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function(v, k, c)  {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n\n    // ### More sequential methods\n\n    butLast: function() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n    },\n\n    count: function(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n      return entriesSequence;\n    },\n\n    filterNot: function(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findEntry: function(predicate, context, notSetValue) {\n      var found = notSetValue;\n      this.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findKey: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLast: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    findLastEntry: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);\n    },\n\n    findLastKey: function(predicate, context) {\n      return this.toKeyedSeq().reverse().findKey(predicate, context);\n    },\n\n    first: function() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function(searchKey, notSetValue) {\n      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n    },\n\n    getIn: function(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function(value ) {return iter.includes(value)});\n    },\n\n    isSuperset: function(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keyOf: function(searchValue) {\n      return this.findKey(function(value ) {return is(value, searchValue)});\n    },\n\n    keySeq: function() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function() {\n      return this.toSeq().reverse().first();\n    },\n\n    lastKeyOf: function(searchValue) {\n      return this.toKeyedSeq().reverse().keyOf(searchValue);\n    },\n\n    max: function(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function() {\n      return this.slice(1);\n    },\n\n    skip: function(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function() {\n      return this.toIndexedSeq();\n    },\n\n\n    // ### Hashable Object\n\n    hashCode: function() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect =\n  IterablePrototype.toSource = function() { return this.toString(); };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function() {\n      return reify(this, flipFactory(this));\n    },\n\n    mapEntries: function(mapper, context) {var this$0 = this;\n      var iterations = 0;\n      return reify(this,\n        this.toSeq().map(\n          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n        ).fromEntrySeq()\n      );\n    },\n\n    mapKeys: function(mapper, context) {var this$0 = this;\n      return reify(this,\n        this.toSeq().flip().map(\n          function(k, v)  {return mapper.call(context, k, v, this$0)}\n        ).flip()\n      );\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\n\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, false);\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function(searchValue) {\n      var key = this.keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function(searchValue) {\n      var key = this.lastKeyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1 ?\n          spliced :\n          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n\n    // ### More collection methods\n\n    findLastIndex: function(predicate, context) {\n      var entry = this.findLastEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    first: function() {\n      return this.get(0);\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return (index < 0 || (this.size === Infinity ||\n          (this.size !== undefined && index > this.size))) ?\n        notSetValue :\n        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n    },\n\n    has: function(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ?\n        this.size === Infinity || index < this.size :\n        this.indexOf(index) !== -1\n      );\n    },\n\n    interpose: function(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function(/*...iterables*/) {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    keySeq: function() {\n      return Range(0, this.size);\n    },\n\n    last: function() {\n      return this.get(-1);\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function(/*, ...iterables */) {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function(zipper/*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function(value) {\n      return this.has(value);\n    },\n\n\n    // ### More sequential methods\n\n    keySeq: function() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n  SetIterable.prototype.contains = SetIterable.prototype.includes;\n\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    }\n  }\n\n  function neg(predicate) {\n    return function() {\n      return -predicate.apply(this, arguments);\n    }\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(\n      keyed ?\n        ordered ?\n          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n        ordered ?\n          function(v ) { h = 31 * h + hash(v) | 0; } :\n          function(v ) { h = h + hash(v) | 0; }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n\n}));\n\n\n// WEBPACK FOOTER //\n// ./~/immutable/dist/immutable.js","\"use strict\";\n\nimport fastApply from \"fast-apply\";\nimport libUrl from \"url\";\nimport urlTransform from \"./urlTransform\";\nimport merge from \"./utils/merge\";\nimport get from \"./utils/get\";\nimport fetchResolver from \"./fetchResolver\";\nimport PubSub from \"./PubSub\";\nimport createHolder from \"./createHolder\";\n\nfunction none() {}\n\nfunction extractArgs(args) {\n  let pathvars;\n  let params={};\n  let callback;\n  if (args[0] instanceof Function) {\n    callback = args[0];\n  } else if (args[1] instanceof Function) {\n    pathvars = args[0];\n    callback = args[1];\n  } else {\n    pathvars = args[0];\n    params = args[1];\n    callback = args[2] || none;\n  }\n  return [pathvars, params, callback];\n}\n\nfunction helperCrudFunction(name) {\n  return (...args)=> {\n    const [pathvars, params, cb] = extractArgs(args);\n    return [pathvars, { ...params, method: name.toUpperCase() }, cb];\n  };\n}\n\nfunction defaultMiddlewareArgsParser(dispatch, getState) {\n  return {\n    dispatch,\n    getState: ()=> getState().toJS()\n  };\n}\n\nexport const CRUD = [\"get\", \"post\", \"put\", \"delete\", \"patch\"].reduce(\n  (memo, name)=> {\n    memo[name] = helperCrudFunction(name);\n    return memo;\n  }, {});\n\n/**\n * Constructor for create action\n * @param  {String} url          endpoint's url\n * @param  {String} name         action name\n * @param  {Object} options      action configuration\n * @param  {Object} ACTIONS      map of actions\n * @param  {[type]} fetchAdapter adapter for fetching data\n * @return {Function+Object}     action function object\n */\nexport default function actionFn(url, name, options, ACTIONS={}, meta={}) {\n  const { actionFetch, actionSuccess, actionFail, actionReset } = ACTIONS;\n  const pubsub = new PubSub();\n  const requestHolder = createHolder();\n  /**\n   * Fetch data from server\n   * @param  {Object}   pathvars    path vars for url\n   * @param  {Object}   params      fetch params\n   * @param  {Function} getState    helper meta function\n  */\n  const request = (pathvars, params, getState=none)=> {\n    const responseHandler = meta && meta.holder && meta.holder.responseHandler;\n    const resultUrlT = urlTransform(url, pathvars, meta.urlOptions);\n    let urlT = resultUrlT;\n    let rootUrl = meta.holder ? meta.holder.rootUrl : null;\n    rootUrl = (rootUrl instanceof Function) ?\n      rootUrl(urlT, params, getState) :\n      rootUrl;\n    if (rootUrl) {\n      const rootUrlObject = libUrl.parse(rootUrl);\n      const urlObject = libUrl.parse(urlT);\n      if (!urlObject.host) {\n        const urlPath = (rootUrlObject.path ? rootUrlObject.path.replace(/\\/$/, \"\") : \"\") +\n          \"/\" + (urlObject.path ? urlObject.path.replace(/^\\//, \"\") : \"\");\n        urlT = `${rootUrlObject.protocol}//${rootUrlObject.host}${urlPath}`;\n      }\n    }\n    const globalOptions = !meta.holder ? {} :\n      (meta.holder.options instanceof Function) ?\n        meta.holder.options(urlT, params, getState) : (meta.holder.options);\n    const baseOptions = (options instanceof Function) ?\n      options(urlT, params, getState) :\n      options;\n    const opts = merge({}, globalOptions, baseOptions, params);\n    const response = meta.fetch(urlT, opts);\n    const result = !meta.validation ? response : response.then(\n      data=> new Promise(\n        (resolve, reject)=> meta.validation(data,\n          err=> err ? reject(err) : resolve(data))));\n    let ret = result;\n    if (responseHandler) {\n      if (result && result.then) {\n        ret = result.then(\n          (data)=> {\n            const res = responseHandler(null, data);\n            if (res === undefined) {\n              return data;\n            } else {\n              return res;\n            }\n          },\n          err=> responseHandler(err)\n        );\n      } else {\n        ret = responseHandler(result);\n      }\n    }\n    ret && ret.catch && ret.catch(none);\n    return ret;\n  };\n\n  /**\n   * Fetch data from server\n   * @param  {Object}   pathvars    path vars for url\n   * @param  {Object}   params      fetch params\n   * @param  {Function} callback)   callback execute after end request\n   */\n  function fn(...args) {\n    const [pathvars, params, callback] = extractArgs(args);\n    const syncing = params ? !!params.syncing : false;\n    params && delete params.syncing;\n    pubsub.push(callback);\n    return (...middlewareArgs)=> {\n      const middlewareParser = (meta.holder && meta.holder.middlewareParser) ||\n        defaultMiddlewareArgsParser;\n      const { dispatch, getState } = middlewareParser(...middlewareArgs);\n      const { reducerName, prefix } = meta;\n      const state = getState();\n      const isLoading = get(state, prefix, reducerName, \"loading\");\n      if (isLoading) {\n        return;\n      }\n      const requestOptions = { pathvars, params };\n      const prevData =  get(state, prefix, reducerName, \"data\");\n      dispatch({ type: actionFetch, syncing, request: requestOptions });\n      const fetchResolverOpts = {\n        dispatch,\n        getState,\n        requestOptions,\n        actions: meta.actions,\n        prefetch: meta.prefetch\n      };\n      const result = new Promise((done, fail)=> {\n        fetchResolver(0, fetchResolverOpts, (err)=> {\n          if (err) {\n            pubsub.reject(err);\n            return fail(err);\n          }\n          new Promise((resolve, reject)=> {\n            requestHolder.set({\n              resolve,\n              reject,\n              promise: request(pathvars, params, getState).then(resolve, reject)\n            });\n          }).then((d)=> {\n            requestHolder.pop();\n            const data = meta.transformer(d, prevData, {\n              type: actionSuccess, request: requestOptions\n            });\n            dispatch({\n              data,\n              origData: d,\n              type: actionSuccess,\n              syncing: false,\n              request: requestOptions\n            });\n            if (meta.broadcast) {\n              meta.broadcast.forEach((type)=> {\n                dispatch({ type, data, origData: d, request: requestOptions });\n              });\n            }\n            if (meta.postfetch) {\n              meta.postfetch.forEach((postfetch)=> {\n                (postfetch instanceof Function) && postfetch({\n                  data, getState, dispatch, actions: meta.actions, request: requestOptions\n                });\n              });\n            }\n            pubsub.resolve(data);\n            done(data);\n          }, (error)=> {\n            dispatch({ type: actionFail, syncing: false, error, request: requestOptions });\n            pubsub.reject(error);\n            fail(error);\n          });\n        });\n      });\n      result.catch(none);\n      return result;\n    };\n  }\n\n  /*\n    Pure rest request\n   */\n  fn.request = request;\n\n  /**\n   * Reset store to initial state\n   */\n  fn.reset = (mutation)=> {\n    const defer = requestHolder.pop();\n    defer && defer.reject(new Error(\"Application abort request\"));\n    return mutation === \"sync\" ? { type: actionReset, mutation } : { type: actionReset };\n  };\n\n  /**\n   * Sync store with server. In server mode works as usual method.\n   * If data have already synced, data would not fetch after call this method.\n   * @param  {Object} pathvars    path vars for url\n   * @param  {Object} params      fetch params\n   * @param  {Function} callback) callback execute after end request\n   */\n  fn.sync = (...args)=> {\n    const [pathvars, params, callback] = extractArgs(args);\n    const isServer = meta.holder ? meta.holder.server : false;\n    return (dispatch, getState)=> {\n      const state = getState();\n      const store = state[name];\n      if (!isServer && store && store.sync) {\n        callback(null, store.data);\n        return;\n      }\n      const modifyParams = { ...params, syncing: true };\n      return fn(pathvars, modifyParams, callback)(dispatch, getState);\n    };\n  };\n\n  let helpers = meta.helpers || {};\n  if (meta.crud) {\n    helpers = { ...CRUD, ...helpers };\n  }\n  const fnHelperCallback = (memo, func, helpername)=> {\n    if (memo[helpername]) {\n      throw new Error(\n        `Helper name: \"${helpername}\" for endpoint \"${name}\" has been already reserved`\n      );\n    }\n    const { sync, call } = (func instanceof Function) ? { call: func } : func;\n    memo[helpername] = (...args)=> (dispatch, getState)=> {\n      const index = args.length - 1;\n      const callbackFn = (args[index] instanceof Function) ? args[index] : none;\n      const helpersResult = fastApply(call, { getState, dispatch, actions: meta.actions }, args);\n      const result = new Promise((resolve, reject)=> {\n        const callback = (err, data)=> {\n          err ? reject(err) : resolve(data);\n          callbackFn(err, data);\n        };\n        // If helper alias using async functionality\n        if (helpersResult instanceof Function) {\n          helpersResult((error, newArgs=[])=> {\n            if (error) {\n              callback(error);\n            } else {\n              fastApply(\n                sync ? fn.sync : fn, null, newArgs.concat(callback)\n              )(dispatch, getState);\n            }\n          });\n        } else {\n          // if helper alias is synchronous\n          const [pathvars, params] = helpersResult;\n          fastApply(\n            sync ? fn.sync : fn, null, [pathvars, params, callback]\n          )(dispatch, getState);\n        }\n      });\n      result.catch(none);\n      return result;\n    };\n    return memo;\n  };\n\n  return Object.keys(helpers).reduce(\n    (memo, key)=> fnHelperCallback(memo, helpers[key], key, helpers), fn);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/actionFn.js","/**\n *\n * @param  {[type]}    dispatch [description]\n * @param  {...[type]} args     [description]\n * @return {[type]}             [description]\n * @example\n * async(dispatch,\n *   cb=> actions.test(1, cb),\n *   actions.test2\n * ).then(()=> async(dispatch, actions.test3))\n */\nexport default function async(dispatch, currentFunction = null, ...restFunctions) {\n  return new Promise(\n    (resolve, reject)=> {\n      if (!currentFunction) {\n        reject(\"no chain function\");\n      } else {\n        dispatch(currentFunction((err, data)=> {\n          err ? reject(err) : resolve(data);\n        }) || {});\n      }\n    })\n  .then((data)=> {\n    if (restFunctions.length) {\n      return async(dispatch, ...restFunctions);\n    } else {\n      return data;\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/async.js","\"use strict\";\n\n/* eslint no-case-declarations: 0 */\n/**\n * Reducer contructor\n * @param  {Object}   initialState default initial state\n * @param  {Object}   actions      actions map\n * @param  {Function} transformer  transformer function\n * @param  {Function} reducer      custom reducer function\n * @return {Function}              reducer function\n */\nexport default function reducerFn(initialState, actions={}, reducer) {\n  const { actionFetch, actionSuccess, actionFail, actionReset } = actions;\n  return (state=initialState, action)=> {\n    switch (action.type) {\n      case actionFetch:\n        return state.merge({\n          loading: true,\n          error: null,\n          syncing: !!action.syncing\n        });\n      case actionSuccess:\n        return state.mergeDeep({\n          loading: false,\n          sync: true,\n          syncing: false,\n          error: null,\n          data: action.data\n        });\n      case actionFail:\n        return state.merge({\n          loading: false,\n          error: action.error,\n          syncing: false\n        });\n      case actionReset:\n        const { mutation } = action;\n        return (mutation === \"sync\") ?\n          state.merge({ sync: false }) :\n          { ...initialState };\n      default:\n        return reducer ? reducer(state, action) : state;\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducerFn.js","\"use strict\";\n\nconst toString = Object.prototype.toString;\nconst OBJECT = \"[object Object]\";\n\n/**\n * Default responce transformens\n */\nexport default {\n  array(data) {\n    return !data ? [] : (Array.isArray(data) ? data : [data]);\n  },\n  object(data) {\n    if (!data) {\n      return {};\n    }\n    return toString.call(data) === OBJECT ? data : { data };\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/transformers.js","module.exports = fastApply;\r\n\r\nfunction fastApply(fn, context, args) {\r\n    \r\n    switch (args ? args.length : 0) {\r\n        case 0:\r\n            return context ? fn.call(context) : fn();\r\n        case 1:\r\n            return context ? fn.call(context, args[0]) : fn(args[0]);\r\n        case 2:\r\n            return context ? fn.call(context, args[0], args[1]) : fn(args[0], args[1]);\r\n        case 3:\r\n            return context ? fn.call(context, args[0], args[1], args[2]) : fn(args[0], args[1], args[2]);\r\n        case 4:\r\n            return context ? fn.call(context, args[0], args[1], args[2], args[3]) : fn(args[0], args[1], args[2], args[3]);\r\n        case 5:\r\n            return context ? fn.call(context, args[0], args[1], args[2], args[3], args[4]) : fn(args[0], args[1], args[2], args[3], args[4]);\r\n        default:\r\n            return fn.apply(context, args);\r\n    }\r\n    \r\n}\n\n\n// WEBPACK FOOTER //\n// ./~/fast-apply/index.js","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n\n\n// WEBPACK FOOTER //\n// ./~/punycode/punycode.js","// Load modules\n\nvar Stringify = require('./stringify');\nvar Parse = require('./parse');\n\n\n// Declare internals\n\nvar internals = {};\n\n\nmodule.exports = {\n    stringify: Stringify,\n    parse: Parse\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/qs/lib/index.js","// Load modules\n\nvar Utils = require('./utils');\n\n\n// Declare internals\n\nvar internals = {\n    delimiter: '&',\n    depth: 5,\n    arrayLimit: 20,\n    parameterLimit: 1000,\n    strictNullHandling: false,\n    plainObjects: false,\n    allowPrototypes: false,\n    allowDots: false\n};\n\n\ninternals.parseValues = function (str, options) {\n\n    var obj = {};\n    var parts = str.split(options.delimiter, options.parameterLimit === Infinity ? undefined : options.parameterLimit);\n\n    for (var i = 0, il = parts.length; i < il; ++i) {\n        var part = parts[i];\n        var pos = part.indexOf(']=') === -1 ? part.indexOf('=') : part.indexOf(']=') + 1;\n\n        if (pos === -1) {\n            obj[Utils.decode(part)] = '';\n\n            if (options.strictNullHandling) {\n                obj[Utils.decode(part)] = null;\n            }\n        }\n        else {\n            var key = Utils.decode(part.slice(0, pos));\n            var val = Utils.decode(part.slice(pos + 1));\n\n            if (!Object.prototype.hasOwnProperty.call(obj, key)) {\n                obj[key] = val;\n            }\n            else {\n                obj[key] = [].concat(obj[key]).concat(val);\n            }\n        }\n    }\n\n    return obj;\n};\n\n\ninternals.parseObject = function (chain, val, options) {\n\n    if (!chain.length) {\n        return val;\n    }\n\n    var root = chain.shift();\n\n    var obj;\n    if (root === '[]') {\n        obj = [];\n        obj = obj.concat(internals.parseObject(chain, val, options));\n    }\n    else {\n        obj = options.plainObjects ? Object.create(null) : {};\n        var cleanRoot = root[0] === '[' && root[root.length - 1] === ']' ? root.slice(1, root.length - 1) : root;\n        var index = parseInt(cleanRoot, 10);\n        var indexString = '' + index;\n        if (!isNaN(index) &&\n            root !== cleanRoot &&\n            indexString === cleanRoot &&\n            index >= 0 &&\n            (options.parseArrays &&\n             index <= options.arrayLimit)) {\n\n            obj = [];\n            obj[index] = internals.parseObject(chain, val, options);\n        }\n        else {\n            obj[cleanRoot] = internals.parseObject(chain, val, options);\n        }\n    }\n\n    return obj;\n};\n\n\ninternals.parseKeys = function (key, val, options) {\n\n    if (!key) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n\n    if (options.allowDots) {\n        key = key.replace(/\\.([^\\.\\[]+)/g, '[$1]');\n    }\n\n    // The regex chunks\n\n    var parent = /^([^\\[\\]]*)/;\n    var child = /(\\[[^\\[\\]]*\\])/g;\n\n    // Get the parent\n\n    var segment = parent.exec(key);\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (segment[1]) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects &&\n            Object.prototype.hasOwnProperty(segment[1])) {\n\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(segment[1]);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n\n        ++i;\n        if (!options.plainObjects &&\n            Object.prototype.hasOwnProperty(segment[1].replace(/\\[|\\]/g, ''))) {\n\n            if (!options.allowPrototypes) {\n                continue;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return internals.parseObject(keys, val, options);\n};\n\n\nmodule.exports = function (str, options) {\n\n    options = options || {};\n    options.delimiter = typeof options.delimiter === 'string' || Utils.isRegExp(options.delimiter) ? options.delimiter : internals.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : internals.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : internals.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : internals.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : internals.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : internals.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : internals.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : internals.strictNullHandling;\n\n    if (str === '' ||\n        str === null ||\n        typeof str === 'undefined') {\n\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? internals.parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0, il = keys.length; i < il; ++i) {\n        var key = keys[i];\n        var newObj = internals.parseKeys(key, tempObj[key], options);\n        obj = Utils.merge(obj, newObj, options);\n    }\n\n    return Utils.compact(obj);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/qs/lib/parse.js","// Load modules\n\nvar Utils = require('./utils');\n\n\n// Declare internals\n\nvar internals = {\n    delimiter: '&',\n    arrayPrefixGenerators: {\n        brackets: function (prefix, key) {\n\n            return prefix + '[]';\n        },\n        indices: function (prefix, key) {\n\n            return prefix + '[' + key + ']';\n        },\n        repeat: function (prefix, key) {\n\n            return prefix;\n        }\n    },\n    strictNullHandling: false,\n    skipNulls: false,\n    encode: true\n};\n\n\ninternals.stringify = function (obj, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort) {\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    }\n    else if (Utils.isBuffer(obj)) {\n        obj = obj.toString();\n    }\n    else if (obj instanceof Date) {\n        obj = obj.toISOString();\n    }\n    else if (obj === null) {\n        if (strictNullHandling) {\n            return encode ? Utils.encode(prefix) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' ||\n        typeof obj === 'number' ||\n        typeof obj === 'boolean') {\n\n        if (encode) {\n            return [Utils.encode(prefix) + '=' + Utils.encode(obj)];\n        }\n        return [prefix + '=' + obj];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0, il = objKeys.length; i < il; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls &&\n            obj[key] === null) {\n\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(internals.stringify(obj[key], generateArrayPrefix(prefix, key), generateArrayPrefix, strictNullHandling, skipNulls, encode, filter));\n        }\n        else {\n            values = values.concat(internals.stringify(obj[key], prefix + '[' + key + ']', generateArrayPrefix, strictNullHandling, skipNulls, encode, filter));\n        }\n    }\n\n    return values;\n};\n\n\nmodule.exports = function (obj, options) {\n\n    options = options || {};\n    var delimiter = typeof options.delimiter === 'undefined' ? internals.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : internals.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : internals.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : internals.encode;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var objKeys;\n    var filter;\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    }\n    else if (Array.isArray(options.filter)) {\n        objKeys = filter = options.filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' ||\n        obj === null) {\n\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in internals.arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    }\n    else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    }\n    else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = internals.arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0, il = objKeys.length; i < il; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls &&\n            obj[key] === null) {\n\n            continue;\n        }\n\n        keys = keys.concat(internals.stringify(obj[key], key, generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort));\n    }\n\n    return keys.join(delimiter);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/qs/lib/stringify.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/querystring-es3/decode.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/querystring-es3/encode.js","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n\n\n\n// WEBPACK FOOTER //\n// ./~/querystring-es3/index.js","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/url/util.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","\"use strict\";\n\nexport default class PubSub {\n  constructor() {\n    this.container = [];\n  }\n  push(cb) {\n    (cb instanceof Function) && this.container.push(cb);\n  }\n  resolve(data) {\n    this.container.forEach(cb=> cb(null, data));\n    this.container = [];\n  }\n  reject(err) {\n    this.container.forEach(cb=> cb(err));\n    this.container = [];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/PubSub.js","\"use strict\";\n\nexport default function() {\n  let data;\n  let hasData = false;\n  return {\n    set(val) {\n      if (!hasData) {\n        data = val;\n        hasData = true;\n        return true;\n      }\n      return false;\n    },\n    empty() {\n      return !hasData;\n    },\n    pop() {\n      if (hasData) {\n        hasData = false;\n        const result = data;\n        data = null;\n        return result;\n      }\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/createHolder.js","\"use strict\";\n\nfunction none() {}\n\nexport default function fetchResolver(index=0, opts={}, cb=none) {\n  if (!opts.prefetch || index >= opts.prefetch.length) {\n    cb();\n  } else {\n    opts.prefetch[index](opts,\n      err=> err ? cb(err) : fetchResolver(index + 1, opts, cb));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fetchResolver.js","\"use strict\";\n\nimport qs from \"qs\";\nimport { parse } from \"url\";\nimport omit from \"./utils/omit\";\nimport merge from \"./utils/merge\";\n\n/* eslint no-useless-escape: 0 */\nconst rxClean = /(\\(:[^\\)]+\\)|:[^\\/]+)/g;\n\n/**\n * Url modification\n * @param  {String} url     url template\n * @param  {Object} params  params for url template\n * @param  {Object} options transformation options, accepts +delimiter+, +arrayFormat+,\n *                          +qsStringifyOptions+ and +qsParseOptions+\n * @return {String}         result url\n */\nexport default function urlTransform(url, params, options) {\n  if (!url) { return \"\"; }\n  params || (params = {});\n  const usedKeys = {};\n\n  const urlWithParams = Object.keys(params).reduce((url, key)=> {\n    const value = params[key];\n    const rx = new RegExp(`(\\\\(:${key}\\\\)|:${key})`, \"g\");\n    return url.replace(rx, ()=> {\n      usedKeys[key] = value;\n      return value;\n    });\n  }, url);\n\n\n  if (!urlWithParams) { return urlWithParams; }\n  const { protocol, host, path } = parse(urlWithParams);\n  const cleanURL = (host) ?\n    `${protocol}//${host}${path.replace(rxClean, \"\")}` :\n    path.replace(rxClean, \"\");\n  const usedKeysArray = Object.keys(usedKeys);\n  if (usedKeysArray.length !== Object.keys(params).length) {\n    const urlObject = cleanURL.split(\"?\");\n    options || (options = {});\n    const { arrayFormat, delimiter } = options;\n    const qsParseOptions = {\n      arrayFormat,\n      delimiter,\n      ...options.qsParseOptions\n    };\n    const mergeParams = merge(\n      (urlObject[1] && qs.parse(urlObject[1], qsParseOptions)),\n      omit(params, usedKeysArray)\n    );\n    const qsStringifyOptions = {\n      arrayFormat,\n      delimiter,\n      ...options.qsStringifyOptions\n    };\n    const urlStringParams = qs.stringify(mergeParams, qsStringifyOptions);\n    return `${urlObject[0]}?${urlStringParams}`;\n  }\n  return cleanURL;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/urlTransform.js","\"use strict\";\n\n/* eslint no-void: 0 */\nfunction isEmpty(name) {\n  return name === \"\" || name === null || name === (void 0);\n}\n\nexport default function (obj, ...path) {\n  return path.reduce(\n    (memo, name)=> isEmpty(name) ? memo : (memo && memo[name])\n  , obj);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/get.js","export default function(object, props) {\n  if (!Array.isArray(props)) {\n    return { ...object };\n  }\n\n  return Object.keys(object || {}).reduce((memo, key)=> {\n    if (props.indexOf(key) === -1) {\n      memo[key] = object[key];\n    }\n    return memo;\n  }, {});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/omit.js","\"use strict\";\n\n/* eslint no-void: 0 */\n\nimport { fromJS } from \"immutable\";\n\nimport reducerFn from \"./reducerFn\";\nimport actionFn from \"./actionFn\";\nimport transformers from \"./transformers\";\nimport async from \"./async\";\n\n// export { transformers, async };\n\n/**\n * Default configuration for each endpoint\n * @type {Object}\n */\nconst defaultEndpointConfig = {\n  transformer: transformers.object\n};\n\nconst PREFIX = \"@@redux-api\";\n/**\n * Entry api point\n * @param {Object} config Rest api configuration\n * @param {Object} baseConfig baseConfig settings for Rest api\n * @param {Function} fetch Adapter for rest requests\n * @param {Boolean} isServer false by default (fif you want to use it for isomorphic apps)\n * @return {actions, reducers}        { actions, reducers}\n * @example ```js\n *   const api = reduxApi({\n *     test: \"/plain/url\",\n *     testItem: \"/plain/url/:id\",\n *     testModify: {\n *       url: \"/plain/url/:endpoint\",\n\n *       transformer: (data)=> !data ?\n *          { title: \"\", message: \"\" } :\n *          { title: data.title, message: data.message },\n *       options: {\n *         method: \"post\"\n *         headers: {\n *           \"Accept\": \"application/json\",\n *           \"Content-Type\": \"application/json\"\n *         }\n *       }\n *     }\n *   });\n *   // register reducers\n *\n *   // call actions\n *   dispatch(api.actions.test());\n *   dispatch(api.actions.testItem({id: 1}));\n *   dispatch(api.actions.testModify({endpoint: \"upload-1\"}, {\n *     body: JSON.stringify({title: \"Hello\", message: \"World\"})\n *   }));\n * ```\n */\n\nexport default function reduxApi(config, baseConfig) {\n  config || (config = {});\n\n  const fetchHolder = {\n    fetch: null,\n    server: false,\n    rootUrl: null,\n    middlewareParser: null,\n    options: {},\n    responseHandler: null\n  };\n\n  const cfg = {\n    use(key, value) {\n      fetchHolder[key] = value;\n\n      return this;\n    },\n    init(fetch, isServer=false, rootUrl) {\n      /* eslint no-console: 0 */\n      console.warn(\"Deprecated method, use `use` method\");\n      this.use(\"fetch\", fetch);\n      this.use(\"server\", isServer);\n      this.use(\"rootUrl\", rootUrl);\n      return this;\n    },\n    actions: {},\n    reducers: {},\n    events: {}\n  };\n  function fnConfigCallback(memo, value, key) {\n    const opts = typeof value === \"object\" ?\n      { ...defaultEndpointConfig, reducerName: key, ...value } :\n      { ...defaultEndpointConfig, reducerName: key, url: value };\n\n    if (opts.broadcast !== (void 0)) {\n      /* eslint no-console: 0 */\n      console.warn(\"Deprecated `broadcast` option. you shoud use `events`\" +\n      \"to catch redux-api events (see https://github.com/lexich/redux-api/blob/master/DOCS.md#Events)\");\n    }\n\n    const {\n      url, urlOptions, options, transformer, broadcast, crud,\n      reducerName, prefetch, postfetch, validation, helpers,\n    } = opts;\n\n    const prefix = (baseConfig && baseConfig.prefix) || \"\";\n\n    const ACTIONS = {\n      actionFetch: `${PREFIX}@${prefix}${reducerName}`,\n      actionSuccess: `${PREFIX}@${prefix}${reducerName}_success`,\n      actionFail: `${PREFIX}@${prefix}${reducerName}_fail`,\n      actionReset: `${PREFIX}@${prefix}${reducerName}_delete`\n    };\n\n    const meta = {\n      urlOptions,\n      fetch: opts.fetch ? opts.fetch : function(...args) {\n        return fetchHolder.fetch.apply(this, args);\n      },\n      holder: fetchHolder,\n      broadcast,\n      virtual: !!opts.virtual,\n      reducerName,\n      actions: memo.actions,\n      prefetch,\n      postfetch,\n      validation,\n      helpers,\n      transformer,\n      prefix,\n      crud\n    };\n\n    memo.actions[key] = actionFn(url, key, options, ACTIONS, meta);\n\n    if (!meta.virtual && !memo.reducers[reducerName]) {\n      const initialState = fromJS({\n        sync: false,\n        syncing: false,\n        loading: false,\n        data: transformer()\n      });\n      const reducer = opts.reducer ? opts.reducer.bind(memo) : null;\n      memo.reducers[reducerName] = reducerFn(initialState, ACTIONS, reducer);\n    }\n    memo.events[reducerName] = ACTIONS;\n    return memo;\n  }\n\n  return Object.keys(config).reduce(\n    (memo, key)=> fnConfigCallback(memo, config[key], key, config), cfg);\n}\n\nreduxApi.transformers = transformers;\nreduxApi.async = async;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}